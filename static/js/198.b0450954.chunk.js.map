{"version":3,"file":"static/js/198.b0450954.chunk.js","mappings":"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","sources":["views/pages/errors/Error404.js","services/coupon.js","services/userList.js","views/components/Pagination.js","utils/Antd.js","views/pages/Coupon.js","services/application.js","utils/TinyMce.js","views/pages/Application.js","services/category.js","services/file.js","utils/UploadImage.js","views/pages/Category.js","services/banner.js","views/pages/Banner.js","services/userMange.js","services/address.js","views/pages/Management/Address.js","services/cart.js","services/product.js","views/pages/Management/Cart.js","services/wallet.js","views/pages/Management/WalletHistory.js","views/pages/Management/userManagement.js","services/variant.js","views/pages/Product/Varient.js","services/specialization.js","views/pages/Product/Product.js","services/offer.js","views/pages/Offer.js","views/pages/Product/AddOn.js","services/homepageItems.js","views/pages/HomePageItems.js","services/orders.js","views/pages/Order.js","views/pages/Specialization/List.js","views/pages/Specialization/Type.js","services/delivery.js","views/pages/delivery.js","views/pages/Product/index.js","services/settings.js","views/pages/Settings.js","views/pages/User/Profile.js","views/pages/User/ChangePassword.js","services/deliveryBoy.js","views/pages/DeliveryBoys.js","views/layout/Layout.js"],"sourcesContent":["import { Result, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Error404() {\r\n    return (\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Link to=\"/\"><Button type=\"primary\">Back Home</Button></Link>}\r\n        />\r\n    );\r\n}\r\n\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = '';\r\n\r\n    static list(data) {\r\n        return axios.get(\"coupon/list\", { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(\"coupon/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post('coupon/delete', { ids: id });\r\n    }\r\n    static details(id) {\r\n        return axios.get('coupon/details/' + id);\r\n    }\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'user';\r\n\r\n    static listUser(data) {\r\n        return axios.get(this.baseURL + '/list-user', { params: data });\r\n    }\r\n    static saveUser(data) {\r\n        return axios.post(this.baseURL + \"/save-user\", data);\r\n    }\r\n    static deleteUser(id) {\r\n        return axios.post(this.baseURL + '/delete-user', { ids: id });\r\n    }\r\n}","import { Pagination, Tag } from 'antd';\r\nexport default function MyPagination(props) {\r\n    const { qData, setQData } = props;\r\n\r\n    const handleChange = (page, pp) => {\r\n        if (qData.limit !== pp) {\r\n            setQData({ ...qData, page: 1, limit: pp });\r\n        } else {\r\n            setQData({ ...qData, page: page });\r\n        }\r\n    }\r\n\r\n    const showTotal = () => {\r\n        let start = (qData.page - 1) * qData.limit * 1 + 1;\r\n        let end = qData.page * qData.limit;\r\n        return <Tag>{'Showing ' + start + ' - ' + end + ' out of ' + qData.total}</Tag>\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                qData.total > 0\r\n                    ? <Pagination\r\n                        total={qData.total}\r\n                        showTotal={showTotal}\r\n                        pageSize={qData.limit}\r\n                        current={qData.page}\r\n                        onChange={handleChange}\r\n                        showSizeChanger={true}\r\n                    />\r\n                    : null\r\n            }\r\n        </>\r\n    );\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState, forwardRef } from 'react';\r\nimport moment from 'moment';\r\nimport { DatePicker, Checkbox, message, Upload, Modal } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nexport function AntdDatepicker(props) {\r\n    let {\r\n        format,\r\n        getFormat = 'YYYY-MM-DD',\r\n        inputReadOnly,\r\n        value,\r\n        defaultValue,\r\n        onChange,\r\n        disablePastDate = false,\r\n        disableUpcomingDate = false,\r\n        ...rest\r\n    } = props;\r\n\r\n\r\n    let otherProps = {};\r\n    if (typeof value !== \"undefined\") {\r\n        otherProps.value = moment(new Date(value ? value : new Date()), format || 'DD MMM YYYY');\r\n    }\r\n    if (typeof defaultValue !== \"undefined\") {\r\n        otherProps.defaultValue = defaultValue ? moment(new Date(defaultValue)) : null\r\n    }\r\n    if (typeof onChange !== \"undefined\") {\r\n        otherProps.onChange = (dt) => {\r\n            onChange(dt ? moment(dt).format(getFormat) : null);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        onChange(moment(value).format(getFormat))\r\n    }, [])\r\n\r\n    return (\r\n        <DatePicker\r\n            format={format || 'DD MMM YYYY'}\r\n            inputReadOnly={inputReadOnly || true}\r\n            disabledDate={(current) => {\r\n                let customDate = moment().format(\"YYYY-MM-DD\");\r\n                if (disablePastDate) {\r\n                    return current && current < moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n                if (disableUpcomingDate) {\r\n                    return current && current > moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n            }}\r\n            {...otherProps}\r\n            {...rest}\r\n            style={{ width: '100%' }}\r\n        />\r\n    )\r\n}\r\n\r\nexport function MultiChechBox(props) {\r\n    const { col = 3 } = props;\r\n    const type = typeof props.value === 'object' ? 'array' : 'string';\r\n\r\n    let [values, setValues] = useState();\r\n    let [options, setOptions] = useState([]);\r\n\r\n    const handleChange = (e) => {\r\n        const val = typeof e.target.value * 1 !== 'NaN' ? e.target.value + '' : e.target.value * 1;\r\n        if (e.target.checked) {\r\n            values.push(val)\r\n            setValues([...values]);\r\n        } else {\r\n            if (values.indexOf(val) > -1) {\r\n                values.splice(values.indexOf(val), 1);\r\n                setValues([...values])\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (type === 'string') {\r\n            values = props.value ? props.value.split(',').map((v) => v * 1) : [];\r\n            setValues([...values]);\r\n        } else {\r\n            setValues([...props.value]);\r\n        }\r\n    }, [props.value]);\r\n\r\n    useEffect(() => {\r\n        let opts = props.options.map((v, i) => {\r\n            if (v.value) {\r\n                return { value: v.value * 1, label: v.label }\r\n            } else if (v.id) {\r\n                return { value: v.id * 1, label: v.name || v.title || v.label }\r\n            } else if (v._id) {\r\n                return { value: v._id + '', label: v.name || v.title || v.label }\r\n            }\r\n            return null;\r\n        });\r\n        setOptions(opts);\r\n    }, [props.options]);\r\n\r\n    useEffect(() => {\r\n        props.onChange(values)\r\n    }, [(values || []).join(\",\")])\r\n\r\n    return (\r\n        <div className=\"row mingap\" >\r\n            {\r\n                options.map((v, i) => (\r\n                    <div className={`col-md-${col} mb-2 form-group`} key={i}>\r\n                        <div className=\"border p-1\">\r\n                            <Checkbox\r\n                                value={typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1}\r\n                                checked={values?.includes(typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1)}\r\n                                onChange={handleChange}\r\n                                className=\"mx-0 mr15\"\r\n                            >\r\n                                {v.label}\r\n                            </Checkbox>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport function AntdMsg($msg, $type = 'success') {\r\n    if ($msg) {\r\n        if ($type === 'success')\r\n            message.success($msg);\r\n        if ($type === 'error')\r\n            message.error($msg);\r\n        if ($type === 'warning')\r\n            message.warning($msg);\r\n    }\r\n};\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = forwardRef((props, ref) => {\r\n    const { fileCount } = props;\r\n    const fileRef = ref;\r\n    let { files } = props;\r\n    useEffect(() => {\r\n        setFileList(files)\r\n    }, [files])\r\n\r\n    if (files.length) {\r\n        files = files?.map((v, i) => {\r\n            return { uid: i, url: v.url, status: 'done', name: v.name };\r\n        });\r\n    } else {\r\n        files = [];\r\n    }\r\n\r\n\r\n    const [fileList, setFileList] = useState(files);\r\n\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(() => {\r\n            onSuccess(\"ok\");\r\n            if (!fileRef.current.uploadingFiles) {\r\n                fileRef.current.uploadingFiles = [];\r\n            }\r\n            fileRef.current.uploadingFiles?.push(file);\r\n        }, 0);\r\n    };\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [previewTitle, setPreviewTitle] = useState('');\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewVisible(true);\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n    };\r\n\r\n    const handleChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <>\r\n            <Upload\r\n                // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                customRequest={dummyRequest}\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={(value) => {\r\n                    if (value.file.status === 'removed' || value.file.status) {\r\n                        handleChange(value)\r\n                    }\r\n                }}\r\n                beforeUpload={\r\n                    (file) => {\r\n                        if (!file.type.includes('image/')) {\r\n                            message.error('Invalid file type');\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                onRemove={(e) => {\r\n                    if (!fileRef.current.deletingFiles) {\r\n                        fileRef.current.deletingFiles = [];\r\n                    }\r\n                    if (!e.thumbUrl) {\r\n                        fileRef.current.deletingFiles?.push(e);\r\n                    } else {\r\n                        fileRef.current.uploadingFiles = fileRef.current.uploadingFiles.filter((v) => { return v.uid !== e.uid })\r\n                    }\r\n                }}\r\n            >\r\n                {fileList.length >= fileCount ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                open={previewVisible}\r\n                title={previewTitle}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default UploadImage;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag, DatePicker } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\n\r\nimport service from '../../services/coupon';\r\nimport UserService from '../../services/userList';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport dayjs from 'dayjs';\r\nimport moment from 'moment';\r\nimport util from '../../utils/util';\r\n\r\nexport default function Coupon() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, });\r\n    const [user, setUser] = useState([]);\r\n    const addNewModalRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 30,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Title',\r\n            dataIndex: 'title',\r\n        },\r\n        {\r\n            title: \"User\",\r\n            dataIndex: \"userDetails\",\r\n            width: 250,\r\n            render: v => v.map(vv => <Tag key={vv._id}>{vv.name || \"UNKNOWN\"}</Tag>)\r\n        },\r\n        {\r\n            title: 'Code',\r\n            width: 100,\r\n            dataIndex: 'code',\r\n        },\r\n        {\r\n            title: 'EndDate',\r\n            width: 100,\r\n            dataIndex: 'expiryDate',\r\n            render: (v, row) => <span>{moment(v).format('DD MMM YYYY')}</span>\r\n        },\r\n        {\r\n            title: \"Discount Value\",\r\n            dataIndex: \"discountValue\",\r\n            width: 120,\r\n            render: (v, row) => row.discountType === 'flat' ? <b> {v}</b> : <b>{v} %</b>\r\n        },\r\n        {\r\n            title: 'Coupon Use',\r\n            width: 100,\r\n            dataIndex: 'typeOfUse',\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 60,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this User?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ key: v._id, ...v })).reverse());\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    function listUser() {\r\n        UserService.listUser()\r\n            .then(res => { setUser(res.data || []); }).catch(err => { AntdMsg('User data not loaded', 'error'); });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, user }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n        listUser()\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5} style={{ marginTop: 0 }}>List of Coupon</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, user }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, user }) {\r\n    const [userNames, setUserNames] = useState([]);\r\n\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined) {\r\n            qData[key] = \"\";\r\n            list()\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        const Names = user?.map((item) => (\r\n            {\r\n                label: item.name ? <><p style={{ padding: \"0px\", margin: \"0px\" }}>{item.name}</p><p style={{ fontSize: \"12px\", margin: \"0px\" }}><Typography.Text type=\"danger\">@{item.phone}</Typography.Text></p></> : item.phone,\r\n                value: item._id,\r\n                searchKey: item.name + item.phone\r\n            }\r\n        ))\r\n        setUserNames(Names)\r\n    }, [user])\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Select\r\n                            showSearch\r\n                            allowClear\r\n                            placeholder=\"Select by username / phone\"\r\n                            optionFilterProp=\"children\"\r\n                            onChange={(e) => onChange(e, \"userId\")}\r\n                            filterOption={(input, option) =>\r\n                                (option?.searchKey ?? '').toLowerCase().includes(input.toLowerCase())\r\n                            }\r\n                            options={userNames}\r\n                        />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item>\r\n                        <Select value={qData.status} allowClear placeholder=\"Search By Date\" onChange={e => onChange(e, \"expiryDate\")} >\r\n                            <Select.Option value=\"expired\">Expired</Select.Option>\r\n                            <Select.Option value=\"active\">Active</Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, user } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n    const handleChange = (value) => {\r\n\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { discountType: 'percent', status: true }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ code: util.removeSpecialChars(data.title)?.toUpperCase() });\r\n        }\r\n    }, [data.title]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Coupon'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={800}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Title\" required>\r\n                                    <Input placeholder=\"Title\" value={data.title} onChange={e => { handleChange({ title: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Code\" required>\r\n                                    <Input placeholder=\"Code\" value={data.code} onChange={e => { handleChange({ code: util.removeSpecialChars(e.target.value)?.toUpperCase() }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Discount Type\" required>\r\n                                    <Select value={data.discountType} onChange={e => { handleChange({ discountType: e }) }} >\r\n                                        <Select.Option value={'percent'}>Percent</Select.Option>\r\n                                        <Select.Option value={'flat'}>Flat</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Discount Value\" required>\r\n                                    <Input placeholder=\"discountValue\" addonBefore={data.discountType === 'percent' ? '%' : ''} value={data.discountValue}\r\n                                        onChange={e => {\r\n                                            if (data.discountType === 'flat') {\r\n                                                handleChange({ discountValue: e.target.value, maxDiscountValue: e.target.value })\r\n                                            } else {\r\n\r\n                                                handleChange({ discountValue: e.target.value })\r\n                                            }\r\n                                        }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            {(data.discountType === \"flat\") ?\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Max Discount Value\" >\r\n                                        <Input placeholder=\"Max Discount Price\" addonBefore=\"\" value={data.maxDiscountValue} onChange={e => { handleChange({ maxDiscountValue: e.target.value }) }} disabled />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                :\r\n                                <Col span={6}>\r\n                                    <Form.Item label=\"Max Discount Value\" >\r\n                                        <Input placeholder=\"Max Discount Price\" addonBefore=\"\" value={data.maxDiscountValue} onChange={e => { handleChange({ maxDiscountValue: e.target.value }) }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            }\r\n\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Minimun Order Value\">\r\n                                    <Input placeholder=\"Minimun Order Price\" addonBefore=\"\" value={data.minimunOrderPrice} onChange={e => { handleChange({ minimunOrderPrice: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Use Type\" required>\r\n                                    <Select value={data.typeOfUse} onChange={e => { handleChange({ typeOfUse: e }) }} >\r\n                                        <Select.Option value=\"Single\">Single Use</Select.Option>\r\n                                        <Select.Option value=\"Multiple\">Multiple Use</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={18}>\r\n                                <Form.Item label=\"Choose Users (Don't choose any user if coupon is applicable to all users)\" >\r\n                                    <Select mode='multiple' value={data.userIds} onChange={v => { handleChange({ userIds: v }) }}\r\n                                        options={\r\n                                            user.map(v => (\r\n                                                {\r\n                                                    value: v._id,\r\n                                                    label: <>\r\n                                                        <p style={{ padding: \"0px\", margin: \"0px\" }}>{v?.name}</p><p style={{ fontSize: \"12px\", margin: \"0px\" }}><Typography.Text type=\"danger\">@{v?.phone}</Typography.Text></p>\r\n                                                    </>,\r\n                                                }\r\n                                            ))\r\n                                        } >\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={8}>\r\n                                <Form.Item label=\"Expiry Date\" required>\r\n                                    <DatePicker value={data.expiryDate && dayjs(moment(data.expiryDate).format(\"YYYY-MM-DD\"))}\r\n                                        format='DD MMM YYYY'\r\n                                        disabledDate={(current) => current.isBefore(moment(new Date()).subtract(1, \"day\"))}\r\n                                        onChange={(e) => { handleChange({ expiryDate: new Date(e) }) }} style={{ width: '100%' }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={8}>\r\n                                <Form.Item label=\"For First Order\">\r\n                                    <Select value={data.forFirst} defaultValue={false} onChange={e => { handleChange({ forFirst: e }) }} >\r\n                                        <Select.Option value={true}>Yes</Select.Option>\r\n                                        <Select.Option value={false}>No</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={8}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={e => { handleChange({ status: e }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'application';\r\n\r\n    static detail(data) {\r\n        return axios.get(this.baseURL + '/details/' + data.type);\r\n    }\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n}","import React, { useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\n\r\n\r\nexport default function TinyMce(props) {\r\n    let { height = 400, menubar = false, plugins, toolbar, content_style, initialValue, onChange } = props;\r\n    if (!plugins) {\r\n        plugins = [\r\n            'advlist autolink lists link image charmap print preview anchor',\r\n            'searchreplace visualblocks code fullscreen',\r\n            'insertdatetime media table paste code help wordcount forecolor backcolor textcolor',\r\n            'image paste table code'\r\n        ];\r\n    }\r\n    if (!toolbar) {\r\n        toolbar = 'undo redo | formatselect | bold italic backcolor | forecolor emoticons'\r\n            + '| table tabledelete | tableprops tablerowprops tablecellprops'\r\n            + '| alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help | image link | imageupload | code | fullscreen';\r\n    }\r\n    if (!content_style) {\r\n        content_style = 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }';\r\n    }\r\n\r\n    const editorRef = useRef(null);\r\n    const editorContent = () => {\r\n        if (editorRef.current) {\r\n            onChange(editorRef.current.getContent())\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Editor\r\n                onInit={(evt, editor) => editorRef.current = editor}\r\n                {...{ initialValue }}\r\n                init={{\r\n                    height, menubar, plugins, toolbar, content_style,\r\n\r\n                    file_browser_callback_types: 'image',\r\n                    file_picker_callback: function (cb, value, meta) {\r\n                        const input = document.createElement(\"input\");\r\n                        input.setAttribute(\"type\", \"file\");\r\n                        input.setAttribute(\"accept\", \"image/*\");\r\n                        input.onchange = function () {\r\n                            const file = this.files[0];\r\n                            const reader = new FileReader();\r\n                            reader.readAsDataURL(file);\r\n                            reader.onload = () => { cb(reader.result, { title: file.name }); };\r\n                        };\r\n                        input.click();\r\n                    },\r\n                    deprecation_warnings: false\r\n                }}\r\n                onSelectionChange={editorContent}\r\n            />\r\n        </>\r\n    );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Form, Row, Col, Spin, Tabs, Card } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, } from 'react';\r\nimport service from '../../services/application';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport TinyMce from \"../../utils/TinyMce\"\r\n\r\nexport default function Application() {\r\n\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [currentTab, setCurrentTab] = useState(0);\r\n\r\n    const handleChange = (value, changeForm) => {\r\n        if (changeForm) {\r\n            Object.entries(value).forEach(ent => {\r\n                let varDt = data;\r\n                const k = ent[0];\r\n                const v = ent[1];\r\n                let keys = k.split('.');\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    if (i + 1 === keys.length) {\r\n                        varDt[keys[i]] = v;\r\n                    } else {\r\n                        if (typeof varDt[keys[i]] === 'undefined') {\r\n                            if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                                varDt[keys[i]] = [];\r\n                            } else {\r\n                                varDt[keys[i]] = {};\r\n                            }\r\n                        } varDt = varDt[keys[i]];\r\n                    }\r\n                }\r\n            });\r\n            setData({ ...data });\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        try {\r\n            (() => {\r\n                \r\n                return currentTab === 0 ? service.save({ ...data, type: 'aboutus', data: data.data }) :\r\n                    currentTab === 1 ? service.save({ ...data, type: 'termcondition', data: data.data }) :\r\n                        currentTab === 2 ? service.save({ ...data, type: 'faq', data: data.data }) :\r\n                            currentTab === 4 ? service.save({ ...data, type: 'privacy-policy', data: data.data }) : null\r\n\r\n            })().then(res => {\r\n                AntdMsg(\"msg\", res.message);\r\n                \r\n                handleChange({ ...res.data });\r\n                setCurrentTab((currentTab + 1) % 5);\r\n            }).catch(err => {\r\n                if (typeof err.message === 'object') {\r\n                    let dt = err.message[Object.keys(err.message)[0]];\r\n                    AntdMsg(dt, 'error');\r\n                } else {\r\n                    AntdMsg(err.message, 'error');\r\n                }\r\n            }).finally(() => {\r\n                setAjxRequesting(false);\r\n            });\r\n        } catch (err) {\r\n            AntdMsg(err.message, 'error');\r\n        }\r\n    }\r\n\r\n    const getDetails = (data) => {\r\n        setAjxRequesting(true);\r\n        service.detail(data).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (currentTab === 0) {\r\n            getDetails({ _id: data._id, type: \"aboutus\" });\r\n        } else if (currentTab === 1) {\r\n            getDetails({ _id: data._id, type: \"termcondition\" });\r\n        } else if (currentTab === 2) {\r\n            getDetails({ _id: data._id, type: \"faq\" });\r\n        } else if (currentTab === 4) {\r\n            getDetails({ _id: data._id, type: \"privacy-policy\" });\r\n        }\r\n    }, [currentTab])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <Tabs activeKey={currentTab} type=\"card\" size=\"small\" style={{ marginBottom: 0 }} onChange={(v) => { setCurrentTab(v); }}\r\n                    items={[\r\n                        {\r\n                            label: \"About us\",\r\n                            key: 0,\r\n                            children: <Card style={{ borderTop: 0 }}>\r\n                                <Aboutus {...{ data, handleChange, save }} />\r\n                            </Card>,\r\n                        },\r\n                        {\r\n                            label: \"Terms & Condition\",\r\n                            key: 1,\r\n                            children: <Card style={{ borderTop: 0 }}>\r\n                                <TandC {...{ data, handleChange, save }} />\r\n                            </Card>,\r\n                        },\r\n                        {\r\n                            label: \"FAQ\",\r\n                            key: 2,\r\n                            children: <Card style={{ borderTop: 0 }}>\r\n                                <FAQ {...{ data, handleChange, save }} />\r\n                            </Card>,\r\n                        },\r\n                        {\r\n                            label: \"Privacy Policy\",\r\n                            key: 4,\r\n                            children: <Card style={{ borderTop: 0 }}>\r\n                                <PrivacyPolicy {...{ data, handleChange, save }} />\r\n                            </Card>,\r\n                        }\r\n                    ]}\r\n                />\r\n                <div style={{ display: \"flex\", flexDirection: \"row-reverse\", paddingTop: \"5px\", paddingRight: \"70px\" }}>\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>{currentTab === 4 ? \"Save\" : \"Next\"}</Button>\r\n                </div>\r\n            </Spin>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nconst Aboutus = ({ data, handleChange }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\">\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Data\" required>\r\n                            <TinyMce initialValue={data.data === undefined ? \"\" : data.data} onChange={(v) => { data.data = v }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst TandC = ({ data, handleChange }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\">\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Data\" required>\r\n                            <TinyMce initialValue={data.data === undefined ? \"\" : data.data} onChange={(v) => { data.data = v }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nconst FAQ = ({ data, handleChange }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\">\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Data\" required>\r\n                            <TinyMce initialValue={data.data === undefined ? \"\" : data.data} onChange={(v) => { data.data = v }} />\r\n\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\nconst PrivacyPolicy = ({ data, handleChange }) => {\r\n    return (\r\n        <>\r\n            <Form layout=\"vertical\">\r\n                <Row gutter={[12, 2]}>\r\n                    <Col span={24}>\r\n                        <Form.Item label=\"Data\" required>\r\n                            <TinyMce initialValue={data.data === undefined ? \"\" : data.data} onChange={(v) => { data.data = v }} />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    );\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = '/ecommerce/';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + \"category/list\", { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"category/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + 'category/delete', { ids: id });\r\n    }\r\n    static details(id) {\r\n        return axios.get(this.baseURL + 'category/details/' + id);\r\n    }\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'file';\r\n\r\n    static get(url) {\r\n        return axios.get(\"../\" + url);\r\n    }\r\n    static save(data, config) {\r\n        return axios.post(this.baseURL + \"/save\", data, config);\r\n    }\r\n    static remove(data) {\r\n        return axios.post(this.baseURL + \"/remove\", data);\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Upload, Button } from \"antd\";\r\nimport ImgCrop from 'antd-img-crop';\r\nimport fileService from \"../services/file\";\r\nimport React from \"react\";\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nconst UploadImage = ({ fileList, setFileList, count = 1, cropImage = null, disabled = false, listType = \"picture-card\" }) => {\r\n    const uploadImage = async options => {\r\n        const { onSuccess, onError, file, onProgress } = options;\r\n\r\n        const fmData = new FormData();\r\n        const config = { onUploadProgress: event => { onProgress({ percent: (event.loaded / event.total) * 100 }); } };\r\n        fmData.append(\"file\", file);\r\n        try {\r\n            fileService.save(fmData, config).then(res => {\r\n                onSuccess(\"Ok\");\r\n                setFileList([...fileList, { uid: res.data.uid, url: res.data.url, name: res.data.name }]);\r\n            })\r\n        } catch (err) {\r\n            onError({ err });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = ({ file, fl }) => {\r\n        if (typeof fl !== typeof []) {\r\n            fl = [];\r\n        }\r\n        setFileList(fl);\r\n\r\n    };\r\n    const handleRemove = (file) => {\r\n        fileService.remove({ uid: file.uid }).then(res => {\r\n        })\r\n    };\r\n\r\n    if (cropImage) {\r\n        if (typeof cropImage !== typeof {}) {\r\n            cropImage = {};\r\n        }\r\n        cropImage.aspect = cropImage.aspect || 1;\r\n        cropImage.shape = cropImage.shape || 'rect';\r\n        cropImage.quality = cropImage.quality || 1;\r\n        return (\r\n            <ImgCrop rotate aspect shape={cropImage.shape} quality={cropImage.quality} >\r\n                <Upload\r\n                    accept=\"image/*\"\r\n                    customRequest={uploadImage}\r\n                    onChange={handleOnChange}\r\n                    onRemove={handleRemove}\r\n                    listType={listType}\r\n                    fileList={fileList}\r\n                    className=\"image-upload-grid\"\r\n                    disabled={disabled}\r\n                >\r\n                    {\r\n                        fileList?.length >= count\r\n                            ? null\r\n                            : listType === 'picture'\r\n                                ? <Button icon={<UploadOutlined />} type=\"dashed\" >Upload</Button>\r\n                                : <div>Upload</div>\r\n                    }\r\n                </Upload>\r\n            </ImgCrop>\r\n        );\r\n    } else {\r\n        return <Upload\r\n            accept=\"image/*\"\r\n            customRequest={uploadImage}\r\n            onChange={handleOnChange}\r\n            onRemove={handleRemove}\r\n            listType={listType}\r\n            fileList={fileList}\r\n            className=\"image-upload-grid\"\r\n            disabled={disabled}\r\n        >\r\n            {\r\n                fileList?.length >= count\r\n                    ? null\r\n                    : listType === 'picture'\r\n                        ? <Button icon={<UploadOutlined />} type=\"dashed\" >Upload</Button>\r\n                        : <div>Upload</div>\r\n            }\r\n        </Upload>\r\n    }\r\n};\r\n\r\nexport default UploadImage","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag, Image } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Pagination from '../components/Pagination';\r\nimport service from '../../services/category';\r\nimport util from '../../utils/util';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport UploadImage from '../../utils/UploadImage';\r\n\r\nexport default function Category({ parentId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, parentId, fileType: 'photo' });\r\n    const addNewModalRef = useRef();\r\n    const addSubNewModalRef = useRef();\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 25,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'img',\r\n            width: 100,\r\n            render: (v) => {\r\n                return <Image src={v?.url} height={80} />\r\n            }\r\n        },\r\n        {\r\n            title: 'Sub-Menu',\r\n            dataIndex: 'lable',\r\n            width: 100,\r\n            render: (v, row) => {\r\n                return <Button onClick={() => { addSubNewModalRef.current.openForm(row) }}>SubMenu</Button>\r\n            }\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 100,\r\n        },\r\n\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    {row.isDeletable ? <Popconfirm\r\n                        title=\"Are you sure to delete this data?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm> : null}\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !parentId\r\n                    ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Category</Typography.Title>\r\n                    : null\r\n            }\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, parentId }} />\r\n            <NewForm ref={addSubNewModalRef} ></NewForm>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col\r\n                    xs={{ span: 24 }}\r\n                    sm={{ span: 16 }}\r\n                    md={{ span: 10 }}\r\n                    lg={{ span: 4 }}\r\n                >\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected data?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, parentId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n    const handleChange = (value) => {\r\n        setData({ ...data, ...value });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { parentId, isTop: false, fileType: 'photo' }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.details(data._id).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.img ? [res.data?.img] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data.name || '') });\r\n        }\r\n    }, [data.name]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ img: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Category'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Photo\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input value={data.name} placeholder=\"Name...\" onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input value={data.slug} placeholder=\"Slug...\" onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Specialization\" required>\r\n                                    <Select value={data.specialization} onChange={e => { handleChange({ specialization: e }) }} mode=\"multiple\" >\r\n                                        <Select.Option value={\"ocassion\"}>Ocassion</Select.Option>\r\n                                        <Select.Option value={\"flavour\"}>Flavour</Select.Option>\r\n                                        <Select.Option value={\"recipient\"}>Recipient</Select.Option>\r\n                                        <Select.Option value={\"relation\"}>Relation</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={e => { handleChange({ status: e }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\nconst NewForm = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData({ ...dt });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Data of &nbsp;<span style={{ color: 'red' }}>{data.name}</span></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body\"\r\n                footer={null}\r\n            >\r\n                <Category parentId={data._id}></Category>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'banner';\r\n\r\n    // for Banners : \r\n    static bannerDetails(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static bannerList(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static bannerSave(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static bannerDelete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Image, } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport moment from \"moment\";\r\nimport service from '../../services/banner';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport UploadImage from '../../utils/UploadImage';\r\n\r\n\r\nexport default function Banner() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, fileType: 'photo' });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 20,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => {\r\n                return <Image src={v} height={80} />\r\n            }\r\n        },\r\n        {\r\n            title: 'Uploaded At',\r\n            dataIndex: 'createdAt',\r\n            width: 100,\r\n            render: (v) => {\r\n                return moment(v).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\r\n            }\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this image?. Be sure to delete the image from server.\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.bannerList(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.bannerDelete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Banners</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { fileType: 'photo' }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.bannerDetails(data._id).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.image ? [res.data?.image] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.bannerSave(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ image: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Banner'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Photo\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'user';\r\n\r\n    static detailUser(id, data) {\r\n        return axios.get(this.baseURL + '/details-user/' + id, { params: data });\r\n    }\r\n    static listUser(data) {\r\n        return axios.get(this.baseURL + '/list-user', { params: data });\r\n    }\r\n    static saveUser(data, query) {\r\n        return axios.post(this.baseURL + \"/save-user\", data, { params: query });\r\n    }\r\n    static deleteUser(id) {\r\n        return axios.post(this.baseURL + '/delete-user', { ids: id });\r\n    }\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'user';\r\n\r\n    static detailJob(id, data) {\r\n        return axios.get(this.baseURL + '/address/details' + id, { params: data });\r\n    }\r\n    static listJob(data) {\r\n        return axios.get(this.baseURL + '/address/list', { params: data });\r\n    }\r\n    static saveJob(data, query) {\r\n        return axios.post(this.baseURL + '/address/save', data, { params: query });\r\n    }\r\n    static deleteJob(id) {\r\n        return axios.post(this.baseURL + '/address/delete', { ids: id });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Input } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport util from '../../../utils/util';\r\nimport service from '../../../services/address';\r\n\r\n\r\nexport default function Address({ userId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, userId });\r\n    const addNewModalRef = useRef();\r\n    const addNewLabelRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n\r\n            title: 'name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Address',\r\n            dataIndex: 'address',\r\n        },\r\n        {\r\n            title: 'Landmark',\r\n            dataIndex: 'landMark',\r\n        },\r\n        {\r\n            title: 'City',\r\n            dataIndex: 'city',\r\n        },\r\n        {\r\n            title: 'Pin',\r\n            dataIndex: 'pin',\r\n        },\r\n        {\r\n            title: 'City',\r\n            dataIndex: 'city',\r\n        },\r\n        {\r\n            title: 'Type',\r\n            dataIndex: 'type',\r\n        },\r\n        {\r\n            title: 'Phone No.',\r\n            dataIndex: 'phone',\r\n        },\r\n        {\r\n            title: 'Optional-Phone No.',\r\n            dataIndex: 'optionalPhone',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this data?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.listJob(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteJob(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !userId\r\n                    ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Users</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, userId }} />\r\n            <AddLabel ref={addNewLabelRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected datas?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, userId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        setData({ ...data, ...value });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { userId }\r\n            );\r\n        }\r\n    }));\r\n\r\n    useEffect(()=>{\r\n        console.log('oooo', data);\r\n    }, [data])\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveJob(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data.name || '') });\r\n        }\r\n    }, [data.name]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Address'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                        <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Address\" required>\r\n                                    <Input placeholder=\"Address\" value={data.address} onChange={e => { handleChange({ address: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Landmark\" required>\r\n                                    <Input placeholder=\"Landmark\" value={data.landMark} onChange={e => { handleChange({ landMark: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"City\" required>\r\n                                    <Input placeholder=\"City\" value={data.city} onChange={e => { handleChange({ city: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Pin\" required>\r\n                                    <Input placeholder=\"Pin\" value={data.pin} onChange={e => { handleChange({ pin: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Phone\" required>\r\n                                    <Input placeholder=\"Phone\" value={data.phone} onChange={e => { handleChange({ phone: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Optional-Phone Number\" required>\r\n                                    <Input placeholder=\"Optional-Phone Number\" value={data.optionalPhone} onChange={e => { handleChange({ optionalPhone: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Type\" required>\r\n                                    <Input placeholder=\"Home/Office/Other\" value={data.type} onChange={e => { handleChange({ type: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst AddLabel = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData({ ...dt });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add User' : 'List of Varient')}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body\"\r\n            >\r\n                <Address productId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = '/cart/';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + 'list', { params: data });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + 'delete', { ids: id });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + 'save', data, { params: query });\r\n    }\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'ecommerce/product/';\r\n\r\n\r\n    static detailProduct(id, data) {\r\n        return axios.get(this.baseURL + 'details/' + id, { params: data });\r\n    }\r\n    static listProduct(data) {\r\n        return axios.get(this.baseURL + 'list', { params: data });\r\n    }\r\n    static saveProduct(data, query) {\r\n        return axios.post(this.baseURL + \"save\", data, { params: query });\r\n    }\r\n    static saveAddOnProduct(data, query) {\r\n        return axios.post(this.baseURL + \"save-addon\", data, { params: query });\r\n    }\r\n    static detailUser(id, data) {\r\n        return axios.get(this.baseURL + 'details/' + id, { params: data });\r\n    }\r\n    static listUser(data) {\r\n        return axios.get(this.baseURL + 'list', { params: data });\r\n    }\r\n    static saveUser(data, query) {\r\n        return axios.post(this.baseURL + \"save\", data, { params: query });\r\n    }\r\n    static deleteUser(id) {\r\n        return axios.post(this.baseURL + 'delete', { ids: id });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Input, message, Select, TreeSelect } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport util from '../../../utils/util';\r\nimport service from '../../../services/cart';\r\nimport ProductService from '../../../services/product'\r\n\r\n\r\nexport default function Cart({ userId, }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [product, setProduct] = useState([])\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, userId, });\r\n    const [varient, setVarient] = useState()\r\n    const addNewModalRef = useRef();\r\n    const addNewLabelRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Product Name',\r\n            dataIndex: 'productName',\r\n        },\r\n        {\r\n            title: 'Quantity',\r\n            dataIndex: 'quantity',\r\n        },\r\n        {\r\n            title: 'Weight',\r\n            dataIndex: 'weight',\r\n        },\r\n        {\r\n            title: 'Price',\r\n            dataIndex: 'price',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this data?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            console.log(qData, \"QQQQQQQQQdataaaaa\");\r\n            console.log(res, \"dataaaaa\");\r\n            setVarient(res?.data?.productVariantId)\r\n            console.log(varient, \"varient\");\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        ProductService.listProduct({ isAll: 1 }).then(res => {\r\n            setProduct(res.data || []);\r\n        }).catch(err => {\r\n            message.error('Category data not loaded');\r\n        });\r\n    }, []);\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !userId\r\n                    ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Users</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, userId, varient, product }} />\r\n            <AddLabel ref={addNewLabelRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                    <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item>\r\n                        <Select value={qData.type} allowClear placeholder=\"Search By Type\" onChange={e => onChange(e, \"type\")} >\r\n                            <Select.Option value=\"true\">AddOn</Select.Option>\r\n                            <Select.Option value=\"false\">Normal</Select.Option>\r\n                            {/* <Select.Option value=\"blocked\">Blocked</Select.Option> */}\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected datas?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, userId, varient, product } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        setData({ ...data, ...value });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { userId, varient }\r\n            );\r\n        }\r\n    }));\r\n\r\n    // useEffect(() => {\r\n    //     console.log(dt,\"----first\");\r\n    // },[dt])\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data.name || '') });\r\n        }\r\n    }, [data.name]);\r\n    useEffect(() => {\r\n        console.log(data, \"----first\");\r\n    }, [data])\r\n\r\n    return (\r\n        <>\r\n\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Cart'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            {!data._id ?\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"Product Name\" required>\r\n                                        {/* <Input placeholder=\"Product Name\" value={data.productName} onChange={e => { handleChange({ productName: e.target.value }) }} /> */}\r\n                                        <TreeSelect mode=\"multiple\" value={data.productVariantId} onChange={v => { handleChange(v, \"productVariantId\") }} //treeData={product}\r\n                                            treeData={product.map(v => ({\r\n                                                value: v._id,\r\n                                                label: v.name,\r\n                                                children: v.variants.map(vv => ({\r\n                                                    value: vv._id,\r\n                                                    label: vv.weight + \" @\" + vv.price,\r\n                                                }))\r\n                                            }))}\r\n                                        >\r\n                                        </TreeSelect>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                :\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"Product Name\" required>\r\n                                        <Input placeholder=\"Product Name\" value={data.productName} onChange={e => { handleChange({ productName: e.target.value }) }} disabled />\r\n                                    </Form.Item>\r\n                                </Col>}\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Quantity\" required>\r\n                                    <Input placeholder=\"Quantity\" value={data.quantity} onChange={e => { handleChange({ quantity: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            {/* {!data._id ?\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"Weight\" required>\r\n                                        <Input placeholder=\"Weight\" value={data.weight} onChange={e => { handleChange({ weight: e.target.value }) }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                :\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"Weight\" required>\r\n                                        <Input placeholder=\"Weight\" value={data.weight} onChange={e => { handleChange({ weight: e.target.value }) }} disabled />\r\n                                    </Form.Item>\r\n                                </Col>}\r\n                            {!data._id ?\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"Price\" required>\r\n                                        <Input placeholder=\"Price\" value={data.price} onChange={e => { handleChange({ price: e.target.value }) }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                :\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"Price\" required>\r\n                                        <Input placeholder=\"Price\" value={data.price} onChange={e => { handleChange({ price: e.target.value }) }} disabled />\r\n                                    </Form.Item>\r\n                                </Col>} */}\r\n                            {/* <Col span={24}>\r\n                                <Form.Item label=\"State\" required>\r\n                                    <Input placeholder=\"State\" value={data.state} onChange={e => { handleChange({ state: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Street 1\" required>\r\n                                    <Input placeholder=\"Street 1\" value={data.street1} onChange={e => { handleChange({ street1: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Street 2\" required>\r\n                                    <Input placeholder=\"Street 2\" value={data.street2} onChange={e => { handleChange({ street2: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col> */}\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst AddLabel = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData({ ...dt });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add User' : 'List of Varient')}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body\"\r\n            >\r\n                <Cart productId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'wallet';\r\n\r\n    static walletdetail(id, data) {\r\n        return axios.get(this.baseURL + '/details' + id, { params: data });\r\n    }\r\n    static walletlist(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static walletsave(data, query) {\r\n        return axios.post(this.baseURL + '/save', data, { params: query });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Input, Select } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport util from '../../../utils/util';\r\nimport service from '../../../services/wallet';\r\n\r\n\r\nexport default function WalletHistory({ userId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, userId });\r\n    const addNewModalRef = useRef();\r\n    const addNewLabelRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        // {\r\n        //     title: 'Product Name',\r\n        //     dataIndex: 'name',\r\n\r\n        // },\r\n        {\r\n            title: 'Amount',\r\n            dataIndex: 'amount',\r\n\r\n        },\r\n        // {\r\n        //     title: 'Type',\r\n        //     dataIndex: 'type',\r\n\r\n        // },\r\n        // {\r\n        //     title: 'Action',\r\n        //     dataIndex: '_id',\r\n        //     width: 70,\r\n        //     render: (v, row) => {\r\n        //         return <>\r\n        //             <Popconfirm\r\n        //                 title=\"Are you sure to delete this data?\"\r\n        //                 onConfirm={() => { deleteData(row._id); }}\r\n        //                 okText=\"Yes\"\r\n        //                 cancelText=\"No\"\r\n        //             >\r\n        //                 <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n        //             </Popconfirm>\r\n        //             <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n        //         </>\r\n        //     }\r\n        // },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.walletlist(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteJob(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !userId\r\n                    ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Users</Typography.Title>\r\n                    : null\r\n            }\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, userId }} />\r\n            <AddLabel ref={addNewLabelRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected datas?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, userId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        setData({ ...data, ...value });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { userId, type:\"admin\" }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.walletsave(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data.name || '') });\r\n        }\r\n    }, [data.name]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Amount'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            {/* <Col span={24}>\r\n                                <Form.Item label=\"Type\" required>\r\n                                    <Select value={data.type} defaultValue=\"admin\" onChange={e => { handleChange({ type: e }) }} >\r\n                                        <Select.Option value=\"referral\">Referral</Select.Option>\r\n                                        <Select.Option value=\"payment-gateway\">Payment-Gateway</Select.Option>\r\n                                        <Select.Option value=\"admin\">Admin</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col> */}\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Amount\" required>\r\n                                    <Input placeholder=\"Amount\" value={data.amount} onChange={e => { handleChange({ amount: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst AddLabel = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData({ ...dt });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add User' : 'List of Varient')}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body\"\r\n            >\r\n                <WalletHistory productId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport UserService from '../../../services/userMange';\r\nimport UploadImage from '../../../utils/UploadImage';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport Address from './Address';\r\nimport Cart from './Cart';\r\nimport WalletHistory from './WalletHistory';\r\n\r\n\r\nexport default function UserManagement({ userId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, userId });\r\n    const addNewModalRef = useRef();\r\n    const ModelModalRef = useRef();\r\n    const ModelModalCartRef = useRef()\r\n    const ModelModalWalletRef = useRef()\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Username',\r\n            dataIndex: 'name',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Phone',\r\n            dataIndex: 'phone',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Job',\r\n            dataIndex: '_id',\r\n            width: 80,\r\n            render: (v, row) => <Button type=\"primary\" size='small' onClick={() => { ModelModalRef.current.openForm({ _id: row._id, name: row.name }) }} >Address</Button>\r\n        },\r\n        {\r\n            title: 'Cart',\r\n            dataIndex: '_id',\r\n            width: 80,\r\n            render: (v, row) => <Button type=\"primary\" size='small' onClick={() => { ModelModalCartRef.current.openForm({ _id: row._id, name: row.name }) }} >Cart</Button>\r\n        },\r\n        {\r\n            title: 'Wallet History',\r\n            dataIndex: '_id',\r\n            width: 80,\r\n            render: (v, row) => <Button type=\"primary\" size='small' onClick={() => { ModelModalWalletRef.current.openForm({ _id: row._id, name: row.name }) }} >Wallet</Button>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: status => {\r\n                if (status === \"blocked\") {\r\n                    return <Tag color='red'>Blocked</Tag>\r\n                } else if (status === \"active\") {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color=\"yellow\">Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this User?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        UserService.listUser(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        UserService.deleteUser(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {!userId ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Users</Typography.Title> : null}\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, userId }} />\r\n            <ModelModal ref={ModelModalRef} />\r\n            <ModelModal1 ref={ModelModalCartRef} />\r\n            <ModelModal2 ref={ModelModalWalletRef} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or Number or Email\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item>\r\n                        <Select value={qData.status} allowClear placeholder=\"Search By Status\" onChange={e => onChange(e, \"status\")} >\r\n                            <Select.Option value=\"active\">Active</Select.Option>\r\n                            <Select.Option value=\"inactive\">Inactive</Select.Option>\r\n                            <Select.Option value=\"blocked\">Blocked</Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, userId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n    const handleChange = (value) => {\r\n\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { userId }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        UserService.detailUser(data._id).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.avatar ? [res.data?.avatar] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        UserService.saveUser(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ avatar: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' User'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={800}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={20}>\r\n                                <Row gutter={[12, 2]}>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Username\" required>\r\n                                            <Input placeholder=\"John Doe\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Email\" required>\r\n                                            <Input placeholder=\"Email\" value={data.email} onChange={e => { handleChange({ email: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Phone\" required>\r\n                                            <Input placeholder=\"Phone\" value={data.phone} onChange={e => { handleChange({ phone: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col span={4}>\r\n                                <Form.Item label=\"Avatar\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={10}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={e => { handleChange({ status: e }) }} >\r\n                                        <Select.Option value=\"active\">Active</Select.Option>\r\n                                        <Select.Option value=\"inactive\">Inactive</Select.Option>\r\n                                        <Select.Option value=\"blocked\">Blocked</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst ModelModal = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Address of <Typography.Text type=\"danger\">{data?.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                ]}\r\n            >\r\n                <Address userId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst ModelModal1 = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Cart of <Typography.Text type=\"danger\">{data?.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                ]}\r\n            >\r\n                <Cart userId={data._id}  />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst ModelModal2 = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(dt ? { ...dt } : { status: true });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Amount of <Typography.Text type=\"danger\">{data?.name}</Typography.Text></>}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1600}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                ]}\r\n            >\r\n                <WalletHistory userId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'ecommerce/variant/';\r\n\r\n    static detailUser(id, data) {\r\n        return axios.get(this.baseURL + 'details/' + id, { params: data });\r\n    }\r\n    static listUser(data) {\r\n        return axios.get(this.baseURL + 'list', { params: data });\r\n    }\r\n    static saveUser(data, query) {\r\n        return axios.post(this.baseURL + \"save\", data, { params: query });\r\n    }\r\n    static deleteUser(id) {\r\n        return axios.post(this.baseURL + 'delete', { ids: id });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Input } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport util from '../../../utils/util';\r\nimport service from '../../../services/variant';\r\n\r\nexport default function Varient({ productId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, productId, });\r\n    const addNewModalRef = useRef();\r\n    const addNewLabelRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Category',\r\n            dataIndex: 'cateId',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Color',\r\n            dataIndex: 'color',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Inventory',\r\n            dataIndex: 'inventory',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Strile',\r\n            dataIndex: 'strile',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Total',\r\n            dataIndex: 'total',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Unit',\r\n            dataIndex: 'unite',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Volume',\r\n            dataIndex: 'volume',\r\n        },\r\n        {\r\n            title: 'Price',\r\n            dataIndex: 'price',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Kilo-Gram',\r\n            dataIndex: 'kg',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this data?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n    function list() {\r\n        setLoading(true);\r\n        service.listUser(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n    const deleteData = (id) => {\r\n        service.deleteUser(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n    return (\r\n        <>\r\n            {!productId ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Varient</Typography.Title> : null}\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, productId }} />\r\n            <AddLabel ref={addNewLabelRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => (setQData({ ...qData, key: e.target.value }))} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected data ?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, productId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n    const handleChange = (value) => {\r\n        setData({ ...data, ...value });\r\n    }\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { productId }\r\n            );\r\n        }\r\n    }));\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailUser(data._id).then(res => {\r\n            setData(res.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveUser(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        }\r\n    }, [open]);\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data.name || \"\") });\r\n        }\r\n    }, [data.name]);\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Varient'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n\r\n                                <Form.Item label=\"Category\" required>\r\n                                    <Input placeholder=\"Category\" value={data.cateId} onChange={e => { handleChange({ cateId: e.target.value }) }} />\r\n                                </Form.Item>\r\n                                <Form.Item label=\"Price\" required>\r\n                                    <Input placeholder=\"price\" value={data.price} onChange={e => { handleChange({ price: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n\r\n                                <Form.Item label=\"Color\" required>\r\n                                    <Input placeholder=\"Color\" value={data.color} onChange={e => { handleChange({ color: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n\r\n                                <Form.Item label=\"Kilo-Gram\" required>\r\n                                    <Input placeholder=\"Kilo-Gram\" value={data.kg} onChange={e => { handleChange({ kg: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst AddLabel = forwardRef((props, ref) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData({ ...dt });\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add User' : 'List of Varient')}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body\"\r\n            >\r\n                <Varient productId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'specialization';\r\n\r\n    static typeDetails(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static typeList(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static typeSave(data, query) {\r\n        return axios.post(this.baseURL + \"/create\", data, { params: query });\r\n    }\r\n    static typeDelete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport {\r\n  Table,\r\n  Button,\r\n  Form,\r\n  Row,\r\n  Col,\r\n  Popconfirm,\r\n  Modal,\r\n  Spin,\r\n  Typography,\r\n  Select,\r\n  Input,\r\n  Tag,\r\n  Divider,\r\n  message,\r\n  Checkbox,\r\n  Card,\r\n  Image,\r\n} from \"antd\";\r\nimport {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  LoadingOutlined,\r\n  PlusOutlined,\r\n  CloseOutlined,\r\n} from \"@ant-design/icons\";\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useRef,\r\n  Fragment,\r\n} from \"react\";\r\nimport Pagination from \"../../components/Pagination\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport service from \"../../../services/product\";\r\nimport util from \"../../../utils/util\";\r\nimport Varient from \"./Varient\";\r\nimport UploadImage from \"../../../utils/UploadImage\";\r\nimport categoryService from \"../../../services/category\";\r\nimport specializationService from \"../../../services/specialization\";\r\nimport TinyMce from \"../../../utils/TinyMce\";\r\nexport default function Product({ productSpecialization, categoryId }) {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState([]);\r\n  const [category, setCategory] = useState([]);\r\n  const [specializations, setSpecializations] = useState([]);\r\n  const [qData, setQData] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    type: \"product\",\r\n    categoryId,\r\n  });\r\n  const addNewModalRef = useRef();\r\n  const [ellipsis, setEllipsis] = useState(true);\r\n  const columns = [\r\n    {\r\n      title: \"#\",\r\n      width: 40,\r\n      render: (v, row, i) => <b>{i + 1}</b>,\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      width: 150,\r\n    },\r\n    {\r\n      title: \"Slug\",\r\n      dataIndex: \"slug\",\r\n      width: 100,\r\n    },\r\n    {\r\n      title: \"Image\",\r\n      dataIndex: \"thumbImg\",\r\n      width: 100,\r\n      render: (v) => {\r\n        return <Image src={v?.url} height={80} />;\r\n      },\r\n    },\r\n    {\r\n      title: \"Categories\",\r\n      dataIndex: \"categoryDetails\",\r\n      width: 250,\r\n      render: (v) =>\r\n        v.map((vv) => <Tag key={vv._id}>{vv.name || \"UNKNOWN\"}</Tag>),\r\n    },\r\n\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      width: 80,\r\n      render: (isActive) => {\r\n        if (isActive) {\r\n          return <Tag color=\"green\">Active</Tag>;\r\n        } else {\r\n          return <Tag color=\"red\">Inactive</Tag>;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      dataIndex: \"_id\",\r\n      width: 70,\r\n      render: (v, row) => {\r\n        return (\r\n          <>\r\n            <Popconfirm\r\n              title=\"Are you sure to delete this data?\"\r\n              onConfirm={() => {\r\n                deleteData(row);\r\n              }}\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                danger\r\n                icon={<DeleteOutlined />}\r\n              />\r\n              &nbsp;\r\n            </Popconfirm>\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              icon={<EditOutlined />}\r\n              onClick={() => {\r\n                addNewModalRef.current.openForm(row);\r\n              }}\r\n            />\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ].filter((item) => !item.hidden);\r\n\r\n  function list() {\r\n    setLoading(true);\r\n    if (qData.categoryId !== \"\") {\r\n      service\r\n        .listUser(qData)\r\n        .then((res) => {\r\n          setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n          setQData({\r\n            ...qData,\r\n            limit: res.extra.limit,\r\n            page: res.extra.page,\r\n            total: res.extra.total,\r\n          });\r\n        })\r\n        .catch((err) => {})\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  const deleteData = (id) => {\r\n    service\r\n      .deleteUser(id)\r\n      .then((res) => {\r\n        AntdMsg(res.message);\r\n        list();\r\n        setSelected([]);\r\n      })\r\n      .catch((err) => {\r\n        AntdMsg(err.message, \"error\");\r\n      });\r\n  };\r\n  const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n  tableColumns[0].fixed = true;\r\n  tableColumns[tableColumns.length - 1].fixed = \"right\";\r\n  const tableProps = {\r\n    bordered: true,\r\n    loading,\r\n    size: \"small\",\r\n    title: () => (\r\n      <Search\r\n        {...{ addNewModalRef, selected, deleteData, qData, setQData, list }}\r\n      />\r\n    ),\r\n    showHeader: true,\r\n    footer: () => <Pagination {...{ qData, setQData }} />,\r\n    rowSelection: {\r\n      onChange: (selectedRowKeys) => {\r\n        setSelected(selectedRowKeys);\r\n      },\r\n    },\r\n    tableLayout: undefined,\r\n  };\r\n  useEffect(() => {\r\n    list();\r\n  }, [qData.page, qData.limit, qData.categoryId, categoryId]);\r\n\r\n  useEffect(() => {\r\n    categoryService\r\n      .list({ isAll: 1 })\r\n      .then((res) => {\r\n        setCategory(res.data || []);\r\n      })\r\n      .catch((err) => {\r\n        message.error(\"Category data not loaded\");\r\n      });\r\n    specializationService\r\n      .typeList()\r\n      .then((res) => {\r\n        setSpecializations(res.data || []);\r\n      })\r\n      .catch((err) => {\r\n        message.error(\"Specialization data not loaded\");\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Typography.Title level={5} style={{ marginTop: 0 }}>\r\n        Product List\r\n      </Typography.Title>\r\n      <Table\r\n        {...tableProps}\r\n        pagination={{ position: [\"none\"], pageSize: qData.limit }}\r\n        columns={tableColumns}\r\n        dataSource={data.length ? data : []}\r\n        scroll={{ y: \"calc(100vh - 340px)\", x: \"calc(100vw - 387px)\" }}\r\n        expandable={{\r\n          rowExpandable: (record) => true,\r\n          expandedRowRender: (record) => (\r\n            <>\r\n              <div style={{ display: \"flex\", flexDirection: \"row-reverse\" }}>\r\n                <Table\r\n                  // width={300}\r\n                  bordered\r\n                  // style={{width: '500px'}}\r\n                  scroll={{\r\n                    y: \"calc(100vh - 340px)\",\r\n                    x: \"calc(100vw - 387px)\",\r\n                  }}\r\n                  pagination={false}\r\n                  dataSource={[record]}\r\n                  columns={[\r\n                    {\r\n                      title: \"Images\",\r\n                      dataIndex: \"imgs\",\r\n                      width: 300,\r\n                      render: (v) => (\r\n                        <>\r\n                            {v.map(vv => <Image src={vv?.url} height={80} />)}\r\n                        </>\r\n                      ),\r\n                    },\r\n                    {\r\n                      title: \"All Variants\",\r\n                      dataIndex: \"variants\",\r\n                      width: 600,\r\n                      render: (v) => (\r\n                        <>\r\n                          <div>\r\n                            <span style={{ margin: \"0 10px\" }}>No.</span>\r\n                            <span style={{ margin: \"0 10px\" }}>Name.</span>\r\n                            <span style={{ margin: \"0 10px\" }}>\r\n                              Price(In )\r\n                            </span>\r\n                            <span style={{ margin: \"0 10px\" }}>\r\n                              actual Price (In )\r\n                            </span>\r\n                            <span style={{ margin: \"0 10px\" }}>Inventory</span>\r\n                          </div>\r\n                          {v.map((vv, i) => (\r\n                            <div>\r\n                              <div>\r\n                                <span style={{ margin: \"0 10px\" }}>\r\n                                  {i + 1}.\r\n                                </span>\r\n                                <span style={{ margin: \"0 30px\" }}>\r\n                                  {vv.weight}\r\n                                </span>\r\n                                <span style={{ margin: \"0 10px\" }}>\r\n                                  {vv.price}\r\n                                </span>\r\n                                <span style={{ margin: \"0 70px\" }}>\r\n                                  {vv.actualPrice}\r\n                                </span>\r\n                                <span style={{ margin: \"0 10px\" }}>\r\n                                  {vv.inventory}\r\n                                </span>\r\n                              </div>\r\n                              <hr />\r\n                            </div>\r\n                          ))}\r\n                        </>\r\n                      ),\r\n                    },\r\n                  ]}\r\n                />\r\n              </div>\r\n            </>\r\n          ),\r\n        }}\r\n      />\r\n      <AddForm\r\n        ref={addNewModalRef}\r\n        {...{\r\n          list,\r\n          category,\r\n          qData,\r\n          specializations,\r\n          productSpecialization,\r\n          categoryId,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Search({\r\n  addNewModalRef,\r\n  selected,\r\n  deleteData,\r\n  qData,\r\n  setQData,\r\n  list,\r\n}) {\r\n  const onChange = (v, key) => {\r\n    qData[key] = v;\r\n    if (v === undefined || v === \"\") {\r\n      delete qData[key];\r\n      list();\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmitCapture={list} className=\"search-form\">\r\n      <Row gutter={[12, 2]}>\r\n        <Col xs={24} xl={4}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Input\r\n              placeholder=\"Search by name or code\"\r\n              value={qData.key}\r\n              onChange={(e) => onChange(e.target.value, \"key\")}\r\n              allowClear\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={3}>\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Search\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={5}>\r\n          <Form.Item style={{ marginBottom: 0, float: \"right\" }}>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<PlusOutlined />}\r\n              onClick={() => {\r\n                addNewModalRef.current.openForm();\r\n              }}\r\n            >\r\n              Add New\r\n            </Button>\r\n          </Form.Item>\r\n          {selected.length ? (\r\n            <Popconfirm\r\n              title=\"Are you sure to delete these selected data ?\"\r\n              onConfirm={() => {\r\n                deleteData(selected);\r\n              }}\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button\r\n                type=\"primary\"\r\n                danger\r\n                style={{ float: \"right\" }}\r\n                icon={<DeleteOutlined />}\r\n              >\r\n                Delete Selected\r\n              </Button>\r\n            </Popconfirm>\r\n          ) : null}\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n  const { list, categoryId, category, specializations, productSpecialization } =\r\n    props;\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState({ aspect: 1 });\r\n  const [ajxRequesting, setAjxRequesting] = useState(false);\r\n  const [thumbFile, setThumbFile] = useState([]);\r\n  const [file, setFile] = useState([]);\r\n\r\n  const handleChange = (v, k) => {\r\n    let varDt = data;\r\n    let keys = k.split(\".\");\r\n    for (let i = 0; i < keys.length; i++) {\r\n      if (i + 1 === keys.length) {\r\n        varDt[keys[i]] = v;\r\n      } else {\r\n        if (typeof varDt[keys[i]] === \"undefined\") {\r\n          if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n            varDt[keys[i]] = [];\r\n          } else {\r\n            varDt[keys[i]] = {};\r\n          }\r\n        }\r\n        varDt = varDt[keys[i]];\r\n      }\r\n    }\r\n    setData({ ...data, ...v });\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    openForm(dt) {\r\n      setOpen(true);\r\n      setData(\r\n        dt\r\n          ? {\r\n              ...dt,\r\n              ocassion: [],\r\n              flavour: [],\r\n              recipient: [],\r\n              relation: [],\r\n              specializationIds: [],\r\n            }\r\n          : {\r\n              isPremium: false,\r\n              isBestSelling: false,\r\n              forBirthday: false,\r\n              forAnniversary: false,\r\n              isBestSellingCombos: false,\r\n              variants: [{}],\r\n              ocassion: [],\r\n              flavour: [],\r\n              recipient: [],\r\n              relation: [],\r\n              specializationIds: [],\r\n              categoryIds: [categoryId],\r\n            }\r\n      );\r\n    },\r\n  }));\r\n\r\n  const save = () => {\r\n    setAjxRequesting(true);\r\n    service\r\n      .saveUser(data)\r\n      .then((res) => {\r\n        message.success(res.message);\r\n        list();\r\n        setOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        if (typeof err.message === \"object\") {\r\n          let dt = err.message[Object.keys(err.message)[0]];\r\n          message.error(dt);\r\n        } else {\r\n          AntdMsg(err.message, \"error\");\r\n        }\r\n      })\r\n      .finally(() => {\r\n        setAjxRequesting(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!data._id) {\r\n      handleChange(util.removeSpecialChars(data?.name || \"\"), \"slug\");\r\n    }\r\n  }, [data.name]);\r\n\r\n  useEffect(() => {\r\n    setData({ ...data, thumbImg: thumbFile[0] });\r\n  }, [thumbFile]);\r\n\r\n  useEffect(() => {\r\n    setData({ ...data, imgs: file });\r\n  }, [file]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      data?.ocassion?.length > 0 ||\r\n      data?.flavour?.length > 0 ||\r\n      data?.recipient?.length > 0 ||\r\n      data?.relation?.length > 0\r\n    ) {\r\n      handleChange(\r\n        [\r\n          ...data?.ocassion,\r\n          ...data?.flavour,\r\n          ...data?.relation,\r\n          ...data?.recipient,\r\n        ],\r\n        \"specializationIds\"\r\n      );\r\n    }\r\n  }, [data.ocassion, data.flavour, data?.relation, data?.recipient]);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={(!data._id ? \"Add New\" : \"Edit\") + \" Product\"}\r\n        style={{ top: 20 }}\r\n        open={open}\r\n        okText=\"Save\"\r\n        onOk={save}\r\n        okButtonProps={{ disabled: ajxRequesting }}\r\n        onCancel={() => {\r\n          setOpen(false);\r\n        }}\r\n        destroyOnClose\r\n        maskClosable={false}\r\n        width={1200}\r\n        className=\"app-modal-body\"\r\n        footer={[\r\n          <Button\r\n            key=\"cancel\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>,\r\n          <Button key=\"save\" type=\"primary\" onClick={save}>\r\n            Save\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <Spin\r\n          spinning={ajxRequesting}\r\n          indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}\r\n        >\r\n          <Form layout=\"vertical\">\r\n            <Row gutter={[12, 2]}>\r\n              <Col span={8}>\r\n                <Form.Item label=\"Name\" required>\r\n                  <Input\r\n                    placeholder=\"Name\"\r\n                    value={data.name}\r\n                    onChange={(e) => {\r\n                      handleChange(e.target.value, \"name\");\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label=\"Slug\" required>\r\n                  <Input\r\n                    placeholder=\"Slug\"\r\n                    value={data.slug}\r\n                    onChange={(e) => {\r\n                      handleChange(\r\n                        util.removeSpecialChars(e.target.value),\r\n                        \"slug\"\r\n                      );\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label=\"Category\" required>\r\n                  <Select\r\n                    mode=\"multiple\"\r\n                    value={data.categoryIds}\r\n                    onChange={(v) => {\r\n                      handleChange(v, \"categoryIds\");\r\n                    }}\r\n                    options={category.map((v) => ({\r\n                      value: v._id,\r\n                      label: v.name,\r\n                    }))}\r\n                  ></Select>\r\n                </Form.Item>\r\n              </Col>\r\n              {productSpecialization?.map((v, i) => (\r\n                <Col span={12} key={i}>\r\n                  <Form.Item label={`Specialization (${v?.toUpperCase()})`}>\r\n                    <Select\r\n                      mode=\"multiple\"\r\n                      value={data?.[v]}\r\n                      onChange={(vv) => {\r\n                        handleChange(vv, v);\r\n                      }}\r\n                      options={specializations\r\n                        .filter((vv) => vv.type === v)\r\n                        .map((vv, ii) => ({\r\n                          value: vv._id,\r\n                          label: vv.name,\r\n                        }))}\r\n                    ></Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              ))}\r\n\r\n              <Col span={24}>\r\n                <Variant\r\n                  {...{\r\n                    variantDetails: data.variants,\r\n                    parentKay: \"variants\",\r\n                    handleChange,\r\n                  }}\r\n                />\r\n              </Col>\r\n              <Col span={24}>\r\n                <Form.Item label=\"Description\" required>\r\n                  <TinyMce\r\n                    initialValue={data.description}\r\n                    onChange={(v) => {\r\n                      data.description = v;\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={24}>\r\n                <Form.Item label=\"High Light\" required>\r\n                  <TinyMce\r\n                    initialValue={data.heighlight}\r\n                    onChange={(v) => {\r\n                      data.heighlight = v;\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label=\"Meta Title\" required>\r\n                  <Input\r\n                    placeholder=\"Meta title\"\r\n                    value={data.metaTitle}\r\n                    onChange={(e) => {\r\n                      handleChange(e.target.value, \"metaTitle\");\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label=\"Meta Tag\" required>\r\n                  <Input\r\n                    placeholder=\"Meta tag\"\r\n                    value={data.metaTag}\r\n                    onChange={(e) => {\r\n                      handleChange(e.target.value, \"metaTag\");\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label=\"Meta Description\" required>\r\n                  <Input.TextArea\r\n                    rows={1}\r\n                    placeholder=\"Meta-Description\"\r\n                    value={data.metaDescription}\r\n                    onChange={(e) => {\r\n                      handleChange(e.target.value, \"metaDescription\");\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Divider />\r\n              <Col span={8}>\r\n                <Form.Item>\r\n                  <Card bordered size=\"small\">\r\n                    <Checkbox\r\n                      value={data.isPopular}\r\n                      onChange={(v) => handleChange({ isPopular: v })}\r\n                    >\r\n                      Popular\r\n                    </Checkbox>\r\n                  </Card>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item>\r\n                  <Card bordered size=\"small\">\r\n                    <Checkbox\r\n                      value={data.isPremium}\r\n                      onChange={(v) => handleChange({ isPremium: v })}\r\n                    >\r\n                      Premium\r\n                    </Checkbox>\r\n                  </Card>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item>\r\n                  <Card bordered size=\"small\">\r\n                    <Checkbox\r\n                      value={data.isBestSelling}\r\n                      onChange={(v) => handleChange({ isBestSelling: v })}\r\n                    >\r\n                      Best Selling\r\n                    </Checkbox>\r\n                  </Card>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={6}>\r\n                <Form.Item label=\"Status\" required>\r\n                  <Select\r\n                    value={data.status}\r\n                    onChange={(e) => {\r\n                      handleChange(e, \"status\");\r\n                    }}\r\n                  >\r\n                    <Select.Option value={true}>Active</Select.Option>\r\n                    <Select.Option value={false}>Inactive</Select.Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n\r\n              <Divider />\r\n              <Col span={4}>\r\n                <Form.Item label=\"Thumbnail Photo\">\r\n                  <UploadImage\r\n                    {...{ fileList: thumbFile, setFileList: setThumbFile }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={20}>\r\n                <Form.Item label=\"Photo\">\r\n                  <UploadImage\r\n                    {...{ fileList: file, setFileList: setFile, count: 20 }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Spin>\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\n\r\nfunction Variant({ variantDetails: data, parentKay, handleChange }) {\r\n  return (\r\n    <Fragment>\r\n      <Divider orientation=\"left\">\r\n        {parentKay === \"variants\" ? \"Variants\" : \"Variant\"}\r\n      </Divider>\r\n      <Table\r\n        {...{\r\n          bordered: true,\r\n          size: \"small\",\r\n          showHeader: true,\r\n          footer: null,\r\n          tableLayout: undefined,\r\n        }}\r\n        pagination={{ position: [\"none\"] }}\r\n        columns={[\r\n          {\r\n            title: \"Weight\",\r\n            dataIndex: \"weight\",\r\n            // width: 150,\r\n            render: (v, row, i) => (\r\n              <Input\r\n                placeholder=\"Weight\"\r\n                value={v}\r\n                onChange={(e) => {\r\n                  handleChange(e.target.value, `${parentKay}.${i}.weight`);\r\n                }}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            title: \"Price\",\r\n            dataIndex: \"price\",\r\n            width: 300,\r\n            render: (v, row, i) => (\r\n              <Input\r\n                placeholder=\"Price (In )\"\r\n                value={v}\r\n                onChange={(e) => {\r\n                  handleChange(\r\n                    util.handleInteger(e.target.value),\r\n                    `${parentKay}.${i}.price`\r\n                  );\r\n                }}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            title: \"Actual Price\",\r\n            dataIndex: \"actual_price\",\r\n            width: 300,\r\n            render: (v, row, i) => (\r\n              <Input\r\n                placeholder=\"Actual Price (In )\"\r\n                value={v}\r\n                onChange={(e) => {\r\n                  handleChange(\r\n                    util.handleFloat(e.target.value),\r\n                    `${parentKay}.${i}.actualPrice`\r\n                  );\r\n                }}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            title: \"Inventory\",\r\n            dataIndex: \"inventory\",\r\n            width: 300,\r\n            render: (v, row, i) => (\r\n              <Input\r\n                placeholder=\"Inventory \"\r\n                value={v}\r\n                onChange={(e) => {\r\n                  handleChange(\r\n                    util.handleFloat(e.target.value),\r\n                    `${parentKay}.${i}.inventory`\r\n                  );\r\n                }}\r\n              />\r\n            ),\r\n          },\r\n          {\r\n            title: \"Action\",\r\n            dataIndex: \"price\",\r\n            width: 100,\r\n            render: (v, row, i) => {\r\n              return (\r\n                <>\r\n                  {i + 1 === data.length ? (\r\n                    <Button\r\n                      icon={<PlusOutlined />}\r\n                      shape=\"circle\"\r\n                      type=\"dashed\"\r\n                      onClick={() => {\r\n                        handleChange([...data, {}], parentKay);\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n                  {i + 1 === data.length && i !== 0 ? (\r\n                    <Button\r\n                      icon={<CloseOutlined />}\r\n                      shape=\"circle\"\r\n                      type=\"dashed\"\r\n                      className=\"mx-2\"\r\n                      danger\r\n                      onClick={() => {\r\n                        data.pop();\r\n                        handleChange([...data], parentKay);\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n                </>\r\n              );\r\n            },\r\n          },\r\n        ]}\r\n        dataSource={data?.length ? data?.map((v, i) => ({ ...v, key: i })) : []}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'offer';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n    static details(id) {\r\n        return axios.get(this.baseURL + '/details/' + id);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, DatePicker, Tag } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../services/offer';\r\nimport ProductService from '../../services/product';\r\nimport UserService from '../../services/userList';\r\nimport Pagination from '../components/Pagination';\r\nimport UploadImage from '../../utils/UploadImage';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport dayjs from 'dayjs';\r\nimport moment from 'moment';\r\nimport util from '../../utils/util';\r\n\r\n\r\nexport default function Offer() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, });\r\n    const [product, setProduct] = useState([]);\r\n    const [user, setUser] = useState([]);\r\n    const addNewModalRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 30,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Title',\r\n            dataIndex: 'title',\r\n            width: 150\r\n        },\r\n        {\r\n            title: 'Products',\r\n            dataIndex: 'productDetails',\r\n            width: 350,\r\n            render: v => v.map(vv => <Tag key={vv._id}>{vv.name}</Tag>)\r\n        },\r\n        {\r\n            title: 'Discount Percent',\r\n            dataIndex: 'discountPercent',\r\n            width: 100\r\n        },\r\n        {\r\n            title: 'Max Discount',\r\n            dataIndex: 'maxDiscountValue',\r\n            width: 100\r\n        },\r\n        {\r\n            title: 'Min Order Price',\r\n            dataIndex: 'minimunOrderPrice',\r\n            width: 100\r\n        },\r\n        {\r\n            title: 'Duration',\r\n            dataIndex: 'startDate',\r\n            width: 200,\r\n            render: (v, row) => <span>{moment(v).format('DD MMM YYYY')} To {moment(row.endDate).format('DD MMM YYYY')} </span>\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this User?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ key: v._id, ...v })).reverse());\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    function listProduct() {\r\n        ProductService.listUser({isAll:1, type:'product'})\r\n            .then(res => { setProduct(res.data || []); }).catch(err => { AntdMsg('Product data not loaded', 'error'); });\r\n    }\r\n    function listUser() {\r\n        UserService.listUser()\r\n            .then(res => { setUser(res.data || []); }).catch(err => { AntdMsg('User data not loaded', 'error'); });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n        listProduct()\r\n        listUser()\r\n    }, [qData.page, qData.limit,]);\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5} style={{ marginTop: 0 }}>List of Offer</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, product, user }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by title\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, product, } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [file, setFile] = useState([]);\r\n\r\n    const handleChange = (value) => {\r\n        setData({ ...data, ...value });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { fileType: 'photo' }\r\n            );\r\n\r\n            if (dt?.img?.url) {\r\n                setFile([dt?.img]);\r\n            } else {\r\n                setFile([]);\r\n            }\r\n\r\n        }\r\n    }));\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange({ slug: util.removeSpecialChars(data.title) });\r\n        }\r\n    }, [data.title]);\r\n\r\n    useEffect(() => {\r\n        setData({ ...data, img: file?.[0] })\r\n    }, [file])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Offer'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={800}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Title\" required>\r\n                                    <Input placeholder=\"Title\" value={data.title} onChange={e => { handleChange({ title: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={8}>\r\n                                <Form.Item label=\"Discount Percent\" required>\r\n                                    <Input placeholder=\"Discount Percent\" value={data.discountPercent} onChange={e => { handleChange({ discountPercent: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={8}>\r\n                                <Form.Item label=\"Duration\" required>\r\n                                    <DatePicker.RangePicker\r\n                                        format='DD MMM YYYY'\r\n                                        value={data.startDate && data.endDate && [dayjs(data.startDate), dayjs(data.endDate)]}\r\n                                        onChange={(e) => { handleChange({ startDate: e?.[0] ? new Date(e?.[0]) : null, endDate: e?.[1] ? new Date(e?.[1]) : null }) }}\r\n                                        style={{ width: '100%' }}\r\n                                    />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Photo\">\r\n                                    <UploadImage  {...{ fileList: file, setFileList: setFile }} count={1} listType=\"picture\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Product\" required>\r\n                                    <Select mode=\"multiple\" value={data.productIds} onChange={v => { handleChange({ productIds: v }) }}\r\n                                        options={\r\n                                            product.map(v => (\r\n                                                {\r\n                                                    value: v._id,\r\n                                                    label: v.name,\r\n                                                }\r\n                                            ))\r\n                                        } >\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select defaultValue={true} value={data.status} onChange={e => { handleChange({ status: e }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag, Image } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Pagination from '../../components/Pagination';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport service from '../../../services/product';\r\nimport util from '../../../utils/util';\r\nimport UploadImage from '../../../utils/UploadImage';\r\nimport categoryService from '../../../services/category';\r\n\r\nexport default function AddOn({ parentId }) {\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [category, setCategory] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, parentId, type: 'addOn' });\r\n    const addNewModalRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'thumbImg',\r\n            width: 80,\r\n            render: (v) => {\r\n                return <Image src={v?.url} height={100} width={150} />\r\n            }\r\n        },\r\n        {\r\n            title: 'MRP',\r\n            dataIndex: 'variants',\r\n            width: 80,\r\n            render: (v) => {\r\n                return v?.map((p) => p?.price)\r\n            }\r\n        },\r\n        {\r\n            title: 'Cost',\r\n            dataIndex: 'variants',\r\n            width: 80,\r\n            render: (v) => {\r\n                return v?.map((ap) => ap?.actualPrice)\r\n            }\r\n        },\r\n        {\r\n            title: 'Inventory',\r\n            dataIndex: 'variants',\r\n            width: 80,\r\n            render: (v) => {\r\n                return v?.map((i) => i?.inventory)\r\n            }\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 60,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this data?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n    function list() {\r\n        setLoading(true);\r\n        service.listUser(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    function listCategory() {\r\n        categoryService.list()\r\n            .then(res => { setCategory(res.data || []); }).catch(err => { AntdMsg('Product data not loaded', 'error'); });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.deleteUser(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n    useEffect(() => {\r\n        list();\r\n        listCategory();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {!parentId ? <Typography.Title level={5} style={{ marginTop: 0 }}>Product List</Typography.Title> : null}\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, parentId, category }} />\r\n        </>\r\n    );\r\n};\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name or code\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected data ?\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, parentId, } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [thumbFile, setThumbFile] = useState([]);\r\n\r\n\r\n    const handleChange = (v) => {\r\n        setData({ ...data, ...v });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { parentId, type: \"addOn\", isPremium: false, isBestSelling: false, forBirthday: false, forAnniversary: false, isBestSellingCombos: false, variants: [{}] }\r\n            );\r\n            if (dt?.thumbFile?.url) {\r\n                setThumbFile([dt?.thumbFile]);\r\n            } else {\r\n                setThumbFile([]);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        service.detailUser(data._id).then(res => {\r\n            setData(res?.data || {});\r\n\r\n            setThumbFile(res?.data?.thumbImg ? [res?.data?.thumbImg] : [])\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveAddOnProduct(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange(util.removeSpecialChars(data.name || \"\"), 'slug');\r\n        }\r\n    }, [data.name]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange(util.removeSpecialChars(data?.name || ''), 'slug');\r\n        }\r\n    }, [data.name]);\r\n\r\n    useEffect(() => {\r\n        setData({ ...data, thumbImg: thumbFile[0] })\r\n    }, [thumbFile])\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({})\r\n        }\r\n    }, [open])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add New' : 'Edit') + ' AddOn Product'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={600}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name}\r\n                                        onChange={(e) => {\r\n                                            setData({\r\n                                                ...data,\r\n                                                name: e.target.value,\r\n                                                variants: [{\r\n                                                    ...data?.variants?.[0],\r\n                                                    weight: e.target.value\r\n                                                }]\r\n                                            })\r\n                                        }}\r\n                                    />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Slug\" required>\r\n                                    <Input placeholder=\"Slug\" value={data.slug} onChange={e => { handleChange({ slug: util.removeSpecialChars(e.target.value) }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select defaultValue={true} value={data.status} onChange={e => { handleChange({ status: e }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"MPR\">\r\n                                    <Input addonBefore=\"\" placeholder=\"Price\" value={data?.variants?.[0]?.price} onChange={(e) => {\r\n                                        setData({\r\n                                            ...data,\r\n                                            variants: [{\r\n                                                ...data?.variants?.[0],\r\n                                                price: util.handleInteger(e.target.value)\r\n                                            }]\r\n                                        })\r\n                                    }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Cost\">\r\n                                    <Input addonBefore=\"\" placeholder=\"Actual Price\" value={data?.variants?.[0]?.actualPrice}\r\n                                        onChange={(e) => {\r\n                                            setData({\r\n                                                ...data,\r\n                                                variants: [{\r\n                                                    ...data?.variants?.[0],\r\n                                                    actualPrice: util.handleInteger(e.target.value)\r\n                                                }]\r\n                                            })\r\n                                        }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Inventory\">\r\n                                    <Input placeholder=\"Inventory\" value={data?.variants?.[0]?.inventory}\r\n                                        onChange={(e) => {\r\n                                            setData({\r\n                                                ...data,\r\n                                                variants: [{\r\n                                                    ...data?.variants?.[0],\r\n                                                    inventory: util.handleInteger(e.target.value)\r\n                                                }]\r\n                                            })\r\n                                        }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Form.Item label=\"Thumbnail Photo\">\r\n                                    <UploadImage {...{ fileList: thumbFile, setFileList: setThumbFile }} listType=\"picture\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'homepageitems';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n    static details(id) {\r\n        return axios.get(this.baseURL + '/details/' + id);\r\n    }\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag, Image, } from \"antd\";\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef, } from \"react\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport { AntdMsg } from \"../../utils/Antd\";\r\nimport service from \"../../services/homepageItems\";\r\nimport serviceProduct from \"../../services/product\";\r\nimport offerService from \"../../services/offer\";\r\nimport categoryService from \"../../services/category\";\r\nimport bannerService from \"../../services/banner\";\r\nimport util from \"../../utils/util\";\r\n\r\nexport default function Product() {\r\n\tconst [data, setData] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [selected, setSelected] = useState([]);\r\n\tconst [qData, setQData] = useState({ page: 1, limit: 20 });\r\n\tconst addNewModalRef = useRef();\r\n\tconst [allProduct, setAllProduct] = useState([]);\r\n\tconst [allCategories, setAllCategories] = useState([]);\r\n\tconst [allOffers, setAllOffers] = useState([]);\r\n\tconst [allBanners, setAllBanners] = useState([]);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"#\",\r\n\t\t\twidth: 40,\r\n\t\t\trender: (v, row, i) => <b>{i + 1}</b>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Product \",\r\n\t\t\tdataIndex: \"productDetails\",\r\n\t\t\trender: (v) => v.map((vv) => <Tag>{vv.name}</Tag>),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Categories \",\r\n\t\t\tdataIndex: \"categoryDetails\",\r\n\t\t\trender: (v) => v.map((vv) => <Tag>{vv.name}</Tag>),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Banners \",\r\n\t\t\tdataIndex: \"bannerDetails\",\r\n\t\t\trender: (v) => v.map((vv) => <Image src={vv?.imgUrl} height={80} />),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Offer \",\r\n\t\t\tdataIndex: \"offerDetails\",\r\n\t\t\trender: (v) => v.map((vv) => <Tag>{vv.title}</Tag>),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Display Order\",\r\n\t\t\tdataIndex: \"displayOrder\",\r\n\t\t\twidth: 250,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Display Type\",\r\n\t\t\tdataIndex: \"displayType\",\r\n\t\t\twidth: 250,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Slug\",\r\n\t\t\tdataIndex: \"slug\",\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Action\",\r\n\t\t\tdataIndex: \"_id\",\r\n\t\t\twidth: 70,\r\n\t\t\trender: (v, row) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Are you sure to delete this data?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tdeleteData(row._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\taddNewModalRef.current.openForm(row);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t].filter((item) => !item.hidden);\r\n\tfunction list() {\r\n\t\tsetLoading(true);\r\n\t\tservice\r\n\t\t\t.list(qData)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n\t\t\t\tsetQData({\r\n\t\t\t\t\t...qData,\r\n\t\t\t\t\tlimit: res.extra.limit,\r\n\t\t\t\t\tpage: res.extra.page,\r\n\t\t\t\t\ttotal: res.extra.total,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => { })\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tlist();\r\n\t}, []);\r\n\tconst deleteData = (id) => {\r\n\t\tservice\r\n\t\t\t.delete(id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tAntdMsg(res.message);\r\n\t\t\t\tlist();\r\n\t\t\t\tsetSelected([]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tAntdMsg(err.message, \"error\");\r\n\t\t\t});\r\n\t};\r\n\tconst tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\ttableColumns[0].fixed = true;\r\n\ttableColumns[tableColumns.length - 1].fixed = \"right\";\r\n\tconst tableProps = {\r\n\t\tbordered: true,\r\n\t\tloading,\r\n\t\tsize: \"small\",\r\n\t\ttitle: () => (\r\n\t\t\t<Search\r\n\t\t\t\t{...{ addNewModalRef, selected, deleteData, qData, setQData, list }}\r\n\t\t\t/>\r\n\t\t),\r\n\t\tshowHeader: true,\r\n\t\tfooter: () => <Pagination {...{ qData, setQData }} />,\r\n\t\trowSelection: {\r\n\t\t\tonChange: (selectedRowKeys) => {\r\n\t\t\t\tsetSelected(selectedRowKeys);\r\n\t\t\t},\r\n\t\t},\r\n\t\ttableLayout: undefined,\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tserviceProduct.listUser({ isAll: 1, type: 'product' }).then((res) => {\r\n\t\t\tsetAllProduct(\r\n\t\t\t\tres.data.map((v) => ({ ...v, label: v?.name, value: v?._id }))\r\n\t\t\t);\r\n\t\t});\r\n\t\tofferService.list({ isAll: 1 }).then((res) => {\r\n\t\t\tsetAllOffers(\r\n\t\t\t\tres.data.map((v) => ({ ...v, label: v?.title, value: v?._id }))\r\n\t\t\t);\r\n\t\t});\r\n\t\tcategoryService.list({ isAll: 1 }).then((res) => {\r\n\t\t\tsetAllCategories(\r\n\t\t\t\tres.data.map((v) => ({ ...v, label: v?.name, value: v?._id }))\r\n\t\t\t);\r\n\t\t});\r\n\t\tbannerService.bannerList({ isAll: 1 }).then((res) => {\r\n\t\t\tconsole.log(\"banners:\", res.data)\r\n\t\t\tsetAllBanners(\r\n\t\t\t\tres.data.map((v) => ({ ...v, label: <Image src={v?.image} height={80} />, value: v?._id }))\r\n\t\t\t);\r\n\t\t});\r\n\t}, [qData.page, qData.limit]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Typography.Title level={5} style={{ marginTop: 0 }}>\r\n\t\t\t\tProduct List\r\n\t\t\t</Typography.Title>\r\n\t\t\t<Table\r\n\t\t\t\t{...tableProps}\r\n\t\t\t\tpagination={{ position: [\"none\"], pageSize: qData.limit }}\r\n\t\t\t\tcolumns={tableColumns}\r\n\t\t\t\tdataSource={data.length ? data : []}\r\n\t\t\t\tscroll={{ y: \"calc(100vh - 340px)\", x: \"calc(100vw - 387px)\" }}\r\n\t\t\t/>\r\n\t\t\t<AddForm\r\n\t\t\t\tref={addNewModalRef}\r\n\t\t\t\t{...{ list, allProduct, allBanners, allCategories, allOffers }}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n\treturn (\r\n\t\t<Form onSubmitCapture={list} className=\"search-form\">\r\n\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t<Col span={3}>\r\n\t\t\t\t\t<Form.Item style={{ marginBottom: 0 }}>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\tReload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t<Form.Item style={{ marginBottom: 0, float: \"right\" }}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\taddNewModalRef.current.openForm();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd New\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{selected.length ? (\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Are you sure to delete these selected data ?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tdeleteData(selected);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tokText=\"Yes\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\tstyle={{ float: \"right\" }}\r\n\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDelete Selected\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Form>\r\n\t);\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n\tconst { list, allProduct, allBanners, allCategories, allOffers } = props;\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [data, setData] = useState({ aspect: 1 });\r\n\tconst [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\tconst handleChange = (v, k) => {\r\n\t\tlet varDt = data;\r\n\t\tlet keys = k.split(\".\");\r\n\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\tif (i + 1 === keys.length) {\r\n\t\t\t\tvarDt[keys[i]] = v;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof varDt[keys[i]] === \"undefined\") {\r\n\t\t\t\t\tif (parseInt(keys[i + 1]) * 1 >= 0) {\r\n\t\t\t\t\t\tvarDt[keys[i]] = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvarDt[keys[i]] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvarDt = varDt[keys[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetData({ ...data });\r\n\t};\r\n\tuseImperativeHandle(ref, () => ({\r\n\t\topenForm(dt) {\r\n\t\t\tsetOpen(true);\r\n\t\t\tsetData(dt ? { ...dt } : {});\r\n\t\t},\r\n\t}));\r\n\r\n\tconst save = () => {\r\n\t\tsetAjxRequesting(true);\r\n\t\tservice\r\n\t\t\t.save(data)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tAntdMsg(res.message);\r\n\t\t\t\t// handleChange({ ...res.data });\r\n\t\t\t\tlist();\r\n\t\t\t\tsetOpen(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (typeof err.message === \"object\") {\r\n\t\t\t\t\tlet dt = err.message[Object.keys(err.message)[0]];\r\n\t\t\t\t\tAntdMsg(dt, \"error\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tAntdMsg(err.message, \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetAjxRequesting(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst getDetails = () => {\r\n\t\tsetAjxRequesting(true);\r\n\t\tservice\r\n\t\t\t.details(data._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data || {});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tAntdMsg(err.message, \"error\");\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetAjxRequesting(false);\r\n\t\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (data._id) {\r\n\t\t\tgetDetails();\r\n\t\t}\r\n\t}, [data._id]);\r\n\tuseEffect(() => {\r\n\t\tif (!data._id) {\r\n\t\t\thandleChange(util.removeSpecialChars(data.slug || \"\"), \"slug\");\r\n\t\t}\r\n\t}, [data.slug]);\r\n\tuseEffect(() => {\r\n\t\tif (!open) {\r\n\t\t\tsetData({});\r\n\t\t}\r\n\t}, [open]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={(!data._id ? \"Add New\" : \"Edit\") + \" Product\"}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t\topen={open}\r\n\t\t\t\tokText=\"Save\"\r\n\t\t\t\tonOk={save}\r\n\t\t\t\tokButtonProps={{ disabled: ajxRequesting }}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tsetOpen(false);\r\n\t\t\t\t}}\r\n\t\t\t\tdestroyOnClose\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\twidth={1000}\r\n\t\t\t\tclassName=\"app-modal-body\"\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tkey=\"cancel\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpen(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\t<Button key=\"save\" type=\"primary\" onClick={save}>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin\r\n\t\t\t\t\tspinning={ajxRequesting}\r\n\t\t\t\t\tindicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form layout=\"vertical\">\r\n\t\t\t\t\t\t<Row gutter={[12, 2]}>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Type\" required>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.type}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(e, \"type\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value=\"category\">Category</Select.Option>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value=\"banner\">Banner</Select.Option>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value=\"offer\">Offer</Select.Option>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value=\"products\">Products</Select.Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t{data.type === \"products\" && (\r\n\t\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Choose Product\" required>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Products\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(v, \"productIds\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.productIds}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={allProduct.filter((v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{data.type === \"banner\" && (\r\n\t\t\t\t\t\t\t\t<Col span={24}>\r\n\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Choose Banners\" required>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Banners\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"banners\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(v, \"bannerIds\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.bannerIds}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={allBanners.filter((v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{data.type === \"category\" && (\r\n\t\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Choose Categories\" required>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Categories\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(v, \"categoryIds\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.categoryIds}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={allCategories.filter((v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{data.type === \"offer\" && (\r\n\t\t\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Choose Offers\" required>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Offers\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(v, \"offerIds\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptionLabelProp=\"label\"\r\n\t\t\t\t\t\t\t\t\t\t\tallowClear={true}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.offerIds}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={allOffers.filter((v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Title\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"title\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.title}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(e.target.value, \"title\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Slug\" required>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"slug\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.slug}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\tutil.removeSpecialChars(e.target.value),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"slug\"\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Display Order\" required>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"1\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.displayOrder}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(e.target.value, \"displayOrder\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Display Type\" required>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.displayType}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(e, \"displayType\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value=\"grid\">Grid</Select.Option>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value=\"scroll\">Scroll</Select.Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Status\" required>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.status}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(e, \"status\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={true}>Active</Select.Option>\r\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={false}>Inactive</Select.Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n});\r\n","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = '';\r\n\r\n    static list(data) {\r\n        return axios.get(\"ecommerce/order/list\", { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(\"ecommerce/order/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post('ecommerce/order/delete', { ids: id });\r\n    }\r\n    static details(id) {\r\n        return axios.get('ecommerce/order/details/' + id);\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Input, Row, Col, Popconfirm, Descriptions, Select, DatePicker, Typography, Tag } from \"antd\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from \"react\";\r\nimport service from \"../../services/orders\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport { AntdMsg } from \"../../utils/Antd\";\r\nimport UserService from '../../services/userList';\r\nimport moment from 'moment'\r\nimport dayjs from 'dayjs';\r\n\r\nexport default function Order() {\r\n    const [data, setData] = useState([]);\r\n    const [user, setUser] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20,date : new Date(),status:'Confirmed' });\r\n\r\n    const columns = [\r\n        {\r\n            title: \"Order id\",\r\n            dataIndex: \"orderId\",\r\n        },\r\n        {\r\n            title: \"Shipping Address\",\r\n            dataIndex: \"addressDetails\",\r\n            width: 400,\r\n            render: (_) => {\r\n                const data = JSON.parse(_);\r\n                return data !== null ? <span>{data?.landMark + \" \" + data?.address + \" \" + data?.city + \" \" + data?.pin}</span> : <span>Not Mentioned</span>;\r\n            },\r\n        },\r\n        {\r\n            title: \"Total Amount\",\r\n            dataIndex: \"priceDetails\",\r\n            width: 90,\r\n            render: (_) => {\r\n                return <span>{_.finalPrice}</span>;\r\n            },\r\n        },\r\n       \r\n        {\r\n            title: \"OrderedAt\",\r\n            dataIndex: \"createdAt\",\r\n            width: 180,\r\n            render: (v) => {\r\n                return moment(v).format(\"dddd, MMMM Do YYYY\");\r\n            }\r\n        },\r\n        {\r\n            title: \"Status\",\r\n            dataIndex: \"status\",\r\n            width: 70,\r\n            render: (_, { status }) => {\r\n                return <Tag color=\"green\">{status}</Tag>;\r\n            },\r\n        },\r\n    ].filter((item) => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service\r\n            .list(qData)\r\n            .then((res) => {\r\n                setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n                setQData({\r\n                    ...qData,\r\n                    limit: res.extra.limit,\r\n                    page: res.extra.page,\r\n                    total: res.extra.total,\r\n                });\r\n            })\r\n            .catch((err) => { })\r\n            .finally(() => {\r\n                setLoading(false);\r\n            });\r\n    }\r\n\r\n    function listUser() {\r\n        UserService.listUser()\r\n            .then(res => { setUser(res.data || []); }).catch(err => { AntdMsg('User data not loaded', 'error'); });\r\n    }\r\n    const deleteData = (id) => {\r\n        service\r\n            .delete(id)\r\n            .then((res) => {\r\n                AntdMsg(res.message);\r\n                list();\r\n            })\r\n            .catch((err) => {\r\n                AntdMsg(err.message, \"error\");\r\n            });\r\n    };\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = \"right\";\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: \"small\",\r\n        title: () => (\r\n            <Search\r\n                {...{ deleteData, qData, setQData, list }}\r\n            />\r\n        ),\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n        listUser()\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n\r\n                <Typography.Title level={5}>List of Orders</Typography.Title>\r\n\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: [\"none\"], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: \"calc(100vh - 340px)\", x: \"calc(100vw - 387px)\" }}\r\n                expandable={{\r\n                    expandedRowRender: (record) => (\r\n                        \r\n                        <Descriptions title=\"User Info\">\r\n                            <Descriptions.Item label=\"UserName\">{record?.userDetails ? record?.userDetails.name : 'Not Accepted'}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"Email\">{record?.userDetails ? record?.userDetails.email : 'Empty'}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"Phone\">{record?.userDetails ? record?.userDetails.phone : 'Empty'}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"Gender\">{record?.userDetails ? record?.userDetails.gender : \"Empty\"}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"Address\">{\r\n                                 record?.addressDetails !== null ?  <span>{JSON.parse(record?.addressDetails)?.landMark  + \"\" + JSON.parse(record?.addressDetails)?.address + \" , \" + JSON.parse(record?.addressDetails)?.city}</span>:<span>Not Mentioned</span>\r\n                               \r\n                            }</Descriptions.Item>\r\n                        </Descriptions>\r\n                    ),\r\n                    rowExpandable: (record) => record.userDetails !== 'Not Expandable',\r\n                }}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Search({ deleteData, qData, setQData, list, user }) {\r\n    const [userNames, setUserNames] = useState([]);\r\n\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined) {\r\n            qData[key] = \"\";\r\n            list()\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        const Names = user?.map((item) => (\r\n            {\r\n                label: item.name ? <><p style={{ padding: \"0px\", margin: \"0px\" }}>{item.name}</p><p style={{ fontSize: \"12px\", margin: \"0px\" }}><Typography.Text type=\"danger\">@{item.phone}</Typography.Text></p></> : item.phone,\r\n                value: item._id,\r\n                searchKey: item.name + item.phone\r\n            }\r\n        ))\r\n        setUserNames(Names)\r\n    }, [user])\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col span={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input\r\n                            placeholder=\"Search by order id\"\r\n                            value={qData.key}\r\n                            onChange={e => onChange(e.target.value, \"key\")}\r\n                            allowClear\r\n                        />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Select\r\n                            showSearch\r\n                            allowClear\r\n                            placeholder=\"Select by username / phone\"\r\n                            optionFilterProp=\"children\"\r\n                            onChange={(e) => onChange(e, \"userId\")}\r\n                            filterOption={(input, option) =>\r\n                                (option?.searchKey ?? '').toLowerCase().includes(input.toLowerCase())\r\n                            }\r\n                            options={userNames}\r\n                        />\r\n                    </Form.Item>\r\n                </Col>\r\n                \r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item>\r\n                        <Select defaultValue={'New Order'} allowClear placeholder=\"Order Status\" onChange={e => onChange(e, \"status\")} >\r\n                            <Select.Option value=\"Confirmed\">New Order</Select.Option>\r\n                            <Select.Option value=\"Delivered\">Delivered</Select.Option>\r\n                            <Select.Option value=\"Failed\">Failed</Select.Option>\r\n                            <Select.Option value=\"Pending\">Pending</Select.Option>\r\n                            <Select.Option value=\"Shipped\">Shipped</Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item>\r\n                        <DatePicker \r\n                        defaultValue={ dayjs(moment(qData?.date).format(\"YYYY-MM-DD\"))}\r\n                        allowClear onChange={e => onChange(e, \"date\")}/>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Search\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Input, message } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport service from '../../../services/specialization';\r\nimport Pagination from '../../components/Pagination';\r\n\r\n\r\nexport default function List({ type }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const addNewModalRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 30,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this specialization?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.typeList({ ...qData, type }).then(res => {\r\n            setData(res.data?.map((v) => ({ key: v._id, ...v })).reverse());\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        service.typeDelete(id).then(res => {\r\n            message.success(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            message.error(err.message);\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit, type]);\r\n\r\n    return (\r\n        <>\r\n            <div style={{ padding: \"0px 10px\", border1: '1px solid black' }}>\r\n                <Typography.Title level={5} style={{ marginTop: 0 }}></Typography.Title>\r\n                <Table\r\n                    {...tableProps}\r\n                    pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                    columns={tableColumns}\r\n                    dataSource={data.length ? data : []}\r\n                    scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n                />\r\n                <AddForm ref={addNewModalRef} {...{ list, type }} />\r\n            </div>\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by name\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, type } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n    const handleChange = (value) => { setData({ ...data, ...value }); }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : {}\r\n            );\r\n        }\r\n    }));\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.typeSave({ ...data, type }).then((res) => {\r\n            message.success(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                message.error(dt);\r\n            } else {\r\n                message.error(err.message);\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Specialization '}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Title\" required>\r\n                                    <Input placeholder=\"Title\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\n","import { Tabs } from 'antd';\r\nimport { useState } from 'react';\r\nimport List from './List';\r\n\r\nexport default function Type() {\r\n    const [type, setType] = useState('ocassion');\r\n    return (\r\n        <Tabs\r\n            onChange={(v) => { setType(v) }}\r\n            activeKey={type}\r\n            items={[\r\n                {\r\n                    label: \"Occasion\",\r\n                    key: 'ocassion',\r\n                    children: <List type={type} />,\r\n                },\r\n                {\r\n                    label: \"Recipient\",\r\n                    key: 'recipient',\r\n                    children: <List type={type} />\r\n                },\r\n                {\r\n                    label: \"Flavour\",\r\n                    key: \"flavour\",\r\n                    children: <List type={type} />\r\n                },\r\n                {\r\n                    label: \"Relation\",\r\n                    key: \"relation\",\r\n                    children: <List type={type} />\r\n                }\r\n            ]}\r\n        />\r\n    )\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'delivery';\r\n\r\n    // for deliveryType : \r\n    static deliveryTypeDetails(id, data) {\r\n        return axios.get(this.baseURL + '/delivery-type/details/' + id, { params: data });\r\n    }\r\n    static deliveryTypeList(data) {\r\n        return axios.get(this.baseURL + '/delivery-type/list', { params: data });\r\n    }\r\n    static deliveryTypeSave(data, query) {\r\n        return axios.post(this.baseURL + \"/delivery-type/save\", data, { params: query });\r\n    }\r\n    static deliveryTypeDelete(id) {\r\n        return axios.post(this.baseURL + '/delivery-type/delete', { ids: id });\r\n    }\r\n\r\n    // for delivery :\r\n    static deliveryDetails(id, data) {\r\n        return axios.get(this.baseURL + '/details/' + id, { params: data });\r\n    }\r\n    static deliveryList(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static deliverySave(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static deliveryDelete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag, TimePicker } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport deliveryService from '../../services/delivery';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\n\r\n\r\nexport default function Delivery() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, });\r\n    const addNewModalRef = useRef();\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 20,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Charge',\r\n            dataIndex: 'charge',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 70,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete?. Be sure to delete the data from server.\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        deliveryService.deliveryList(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n\r\n    const deleteData = (id) => {\r\n        deliveryService.deliveryDelete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Typography.Title level={5}>List of Delivery</Typography.Title>\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list }) {\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col\r\n                    xs={{ span: 24 }}\r\n                    sm={{ span: 16 }}\r\n                    md={{ span: 10 }}\r\n                    lg={{ span: 4 }}\r\n                >\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by title\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete?. Be sure to delete the data from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n\r\n    const handleChange = (value) => {\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { ...dt }\r\n                    : { status: true, timings: [{ startTime: \"00:00:00\", endTime: \"00:00:00\" }] }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        deliveryService.deliverySave(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Delivery'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Name\" required>\r\n                                    <Input placeholder=\"Name\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Charge\" required>\r\n                                    <Input placeholder=\"Charge\" value={data.charge} onChange={e => { handleChange({ charge: e.target.value }) }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Timing {...{ timingDetails: data.timings, parentKay: 'timings', handleChange }} />\r\n\r\n                            </Col>\r\n                            <Col span={24}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={v => { handleChange({ status: v }) }} >\r\n                                        <Select.Option value={true}>Active</Select.Option>\r\n                                        <Select.Option value={false}>Inactive</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nfunction Timing({ timingDetails: data, parentKay, handleChange }) {\r\n    return (\r\n        <>\r\n            <Table\r\n                {...{\r\n                    bordered: true,\r\n                    size: 'small',\r\n                    showHeader: true,\r\n                    footer: null,\r\n                    tableLayout: undefined,\r\n                }}\r\n                pagination={{ position: ['none'] }}\r\n                columns={\r\n                    [\r\n                        {\r\n                            title: 'Start Time',\r\n                            dataIndex: 'startTime',\r\n                            render: (row, v, i) => <TimePicker onChange={(e, timeString) => { handleChange({ [`${parentKay}.${i}.startTime`]: timeString }) }} defaultValue={dayjs(v?.startTime, 'HH:mm:ss')} />\r\n                        },\r\n                        {\r\n                            title: 'End Time',\r\n                            dataIndex: 'endTime',\r\n                            render: (row, v, i) => <TimePicker onChange={(e, timeString) => { handleChange({ [`${parentKay}.${i}.endTime`]: timeString }) }} defaultValue={dayjs(v?.endTime, 'HH:mm:ss')} />\r\n                        },\r\n                        {\r\n                            title: 'Action',\r\n                            dataIndex: 'price',\r\n                            width: 100,\r\n                            render: (v, row, i) => {\r\n                                return <>\r\n                                    {\r\n                                        i + 1 === data.length\r\n                                            ? <Button icon={<PlusOutlined />} shape=\"circle\" type=\"dashed\" onClick={() => {\r\n                                                handleChange({ [parentKay]: [...data, { startTime: \"00:00:00\", endTime: \"00:00:00\" }] });\r\n                                            }} />\r\n                                            : null\r\n                                    }\r\n                                    {\r\n                                        i + 1 === data.length && i !== 0\r\n                                            ? <Button icon={<CloseOutlined />} shape=\"circle\" type=\"dashed\" className=\"mx-2\" danger onClick={() => {\r\n                                                data.pop();\r\n                                                // handleChange({[parentKay]: [...data.filter((v, i)=> (i+1) !== data.length)]} );\r\n                                                handleChange({[parentKay]: [...data]} );\r\n                                            }} />\r\n                                            : null\r\n                                    }\r\n                                </>\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n                dataSource={data?.length ? data : []}\r\n            />\r\n        </>\r\n    );\r\n}","import { Tabs } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport categoryService from '../../../services/category';\r\nimport Product from './Product';\r\n\r\n\r\nexport default function Index() {\r\n    const [type, setType] = useState();\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        categoryService.list().then(res => {\r\n            setCategories(res.data || []);\r\n            setType(res.data[0]?._id)\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Tabs\r\n                onChange={(v) => { setType(v) }}\r\n                activeKey={type}\r\n                destroyInactiveTabPane={true}\r\n                items={\r\n                    categories.map(v => ({\r\n                        label: v.name,\r\n                        key: v._id,\r\n                        productSpecialization: v.specialization,\r\n                        children: <Product {...{ productSpecialization: v.specialization, categoryId: v._id }} />\r\n                    }))\r\n                }\r\n            />\r\n        </>\r\n    )\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = 'settings';\r\n\r\n    static list(data) {\r\n        return axios.get(this.baseURL + '/list', { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(this.baseURL + \"/save\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post(this.baseURL + '/delete', { ids: id });\r\n    }\r\n}\r\n","import { Button, Card, Col, Input, Row, Spin } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport service from \"../../services/settings\"\r\nimport { AntdMsg } from '../../utils/Antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nconst initDataMap = [\r\n    {\r\n        type: 'gst',\r\n        title: 'GST Percent',\r\n        dataInput: 'input',\r\n        default: '0',\r\n        iseditable: false\r\n    },\r\n    {\r\n        type: 'referralAmount',\r\n        title: 'Referral Amount',\r\n        dataInput: 'input',\r\n        default: '0',\r\n        iseditable: false\r\n    },\r\n    {\r\n        type: 'phone',\r\n        title: 'Phone Number(Support)',\r\n        dataInput: 'input',\r\n        default: 'xxxxxxxxxx',\r\n        iseditable: false\r\n    },\r\n    {\r\n        type: 'email',\r\n        title: 'email (Support)',\r\n        dataInput: 'input',\r\n        default: 'xxx....@test.com',\r\n        iseditable: false\r\n    },\r\n    {\r\n        type: 'whatsapp',\r\n        title: 'Whatsapp (Support)',\r\n        dataInput: 'input',\r\n        default: 'xxxxxxxxxx',\r\n        iseditable: false\r\n    }\r\n];\r\nconst Settings = () => {\r\n    const [data, setData] = useState(initDataMap.map(v => ({ type: v.type })));\r\n    const [dataMap, setDataMap] = useState(initDataMap);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n\r\n    const list = () => {\r\n        setAjxRequesting(true);\r\n        service.list(qData).then((res) => {\r\n            setData(\r\n                initDataMap?.map(v =>\r\n                    res?.data?.find(vv => vv.type === v.type) || { type: v.type, value: v.default }\r\n                )\r\n            )\r\n        }).catch(err => { }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        list()\r\n    }, [])\r\n\r\n    const handleSave = (data) => {\r\n        setAjxRequesting(true);\r\n        service.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            setDataMap(dataMap.map((vv, ii) => (data.type !== vv.type ? { ...vv } : { ...vv, iseditable: false })))\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    return <>\r\n        <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n            <Row gutter={[12, 12]}>\r\n                {\r\n                    dataMap?.map((val, i) => (\r\n                        <Col span={6} key={i}>\r\n                            <Card\r\n                                title={val.title}\r\n                                size=\"small\"\r\n                                extra={\r\n                                    !val.iseditable ?\r\n                                        <Button type=\"primary\" size=\"small\" onClick={() => setDataMap(dataMap.map((vv, ii) => (i !== ii ? { ...vv } : { ...vv, iseditable: true })))} > Edit </Button> :\r\n                                        <Row gutter={6}>\r\n                                            <Col>\r\n                                                <Button type=\"primary\" size=\"small\" danger onClick={() => setDataMap(dataMap.map((vv, ii) => (i !== ii ? { ...vv } : { ...vv, iseditable: false })))}> Cancel </Button>\r\n                                            </Col>\r\n                                            <Col>\r\n                                                <Button type=\"primary\" size=\"small\" onClick={() => {\r\n                                                    handleSave(data?.find((vv, ii) => vv.type === val.type))\r\n                                                }} > Save </Button>\r\n                                            </Col>\r\n                                        </Row>\r\n                                }\r\n                            >\r\n                                {\r\n                                    val.dataInput === 'input'\r\n                                        ? <Input value={(data?.find((vv, ii) => vv.type === val.type))?.value} onChange={e => {\r\n                                            setData(data.map((vv, ii) => (vv.type === val.type ? { ...vv, value: e.target.value } : { ...vv })))\r\n                                        }} disabled={!val.iseditable} />\r\n                                        : null\r\n                                }\r\n                            </Card>\r\n                        </Col>\r\n                    ))\r\n                }\r\n            </Row>\r\n        </Spin>\r\n    </>\r\n};\r\nexport default Settings;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Form, Spin, Row, Col, Typography, Divider, Switch } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState } from 'react';\r\nimport service from '../../../services/user';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport UploadImage from '../../../utils/UploadImage';\r\n\r\nexport default function Profile() {\r\n\r\n    const [data, setData] = useState({});\r\n    const [fileList, setFileList] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [doSave, setDoSave] = useState(false);\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        service.profile().then(res => {\r\n            setData(res.data.result || {});\r\n            if (res.data.result?.avatar) {\r\n                setFileList([res.data.result?.avatar]);\r\n            }\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        updateProfile();\r\n    }, [data]);\r\n\r\n    function updateProfile() {\r\n        if (doSave) {\r\n            setLoading(true);\r\n            service.saveProfile(data).then(res => {\r\n                AntdMsg(res.message);\r\n            }).catch(err => {\r\n                AntdMsg(err.message, 'error');\r\n            }).finally(() => {\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleChange(fileList?.[0], 'avatar');\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={loading} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <Divider />\r\n                {[<Switch key={'do-save'} checkedChildren=\"Update\" unCheckedChildren=\"Update\" checked={doSave} onChange={v => { setDoSave(v) }} style={{ marginLeft: '1500px' }} />]}\r\n                <Form layout=\"vertical\">\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={16}>\r\n                            <Row gutter={[12, 10]}>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">Name</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'name'); } }} level={5} >\r\n                                            {data.name}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">User Name</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'userName'); } }} level={5} >\r\n                                            {data.userName}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">Email</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'email'); } }} level={5} >\r\n                                            {data.email}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label={<Typography.Text strong type=\"secondary\">Phone Number</Typography.Text>}>\r\n                                        <Typography.Title editable={{ editing: doSave, triggerType: doSave ? 'icon' : 'text', onChange: (v) => { handleChange(v, 'phone'); } }} level={5} >\r\n                                            {data.phone}\r\n                                        </Typography.Title>\r\n                                        <Divider style={{ margin: 0 }} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                        <Col span={8}>\r\n                            <UploadImage {...{ fileList, setFileList }} disabled={!doSave} cropImage />\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Spin>\r\n        </>\r\n    );\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Form, Spin, Row, Col, Divider, Input, Button } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport React, { useState } from 'react';\r\nimport service from '../../../services/user';\r\nimport { AntdMsg } from '../../../utils/Antd';\r\nimport commonObj from '../../../commonObj';\r\n\r\nexport default function ChangePassword() {\r\n\r\n    const [data, setData] = useState({ name: commonObj.name });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    function save() {\r\n        setLoading(true);\r\n        service.updatePassword(data).then(res => {\r\n            AntdMsg(res.message);\r\n            setData({});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={loading} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                {/* <PageHeader title={greetingTime(new Date()) + ', ' + data?.name} /> */}\r\n                <Divider />\r\n                <Form layout=\"vertical\">\r\n                    <Row gutter={[12, 2]}>\r\n                        <Col span={8}>\r\n                            <Form.Item label=\"Current Password\">\r\n                                <Input.Password placeholder=\"Current Password\" value={data.currentPassword} onChange={e => { handleChange(e.target.value, 'currentPassword'); }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={16}></Col>\r\n\r\n                        <Col span={8}>\r\n                            <Form.Item label=\"New Password\">\r\n                                <Input.Password placeholder=\"New Password\" value={data.newPassword} onChange={e => { handleChange(e.target.value, 'newPassword'); }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={16}></Col>\r\n                        <Col span={8}>\r\n                            <Form.Item label=\"Confirm New Password\">\r\n                                <Input.Password placeholder=\"Confirm New Password\" value={data.confirmNewPassword} onChange={e => { handleChange(e.target.value, 'confirmNewPassword'); }} />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={16}></Col>\r\n                        <Col span={8}>\r\n                            <Form.Item>\r\n                                {\r\n                                    data.currentPassword && data.newPassword && data.confirmNewPassword\r\n                                        ? <Button type=\"primary\" style={{ width: '100%' }} htmlType=\"submit\" onClick={save} >Update Password</Button>\r\n                                        : null\r\n                                }\r\n                            </Form.Item>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Spin>\r\n        </>\r\n    );\r\n};","import axios from \"../utils/axios\";\r\n\r\nexport default class service {\r\n\r\n    static baseURL = '';\r\n\r\n    static list(data) {\r\n        return axios.get(\"delivery-boy/list\", { params: data });\r\n    }\r\n    static save(data, query) {\r\n        return axios.post(\"delivery-boy/create\", data, { params: query });\r\n    }\r\n    static delete(id) {\r\n        return axios.post('delivery-boy/delete', { ids: id });\r\n    }\r\n    static details(id) {\r\n        return axios.get('delivery-boy/details/' + id);\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Button, Form, Row, Col, Popconfirm, Modal, Spin, Typography, Select, Input, Tag, Image } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport Setvice from '../../services/deliveryBoy';\r\nimport UploadImage from '../../utils/UploadImage';\r\nimport Pagination from '../components/Pagination';\r\nimport { AntdMsg } from '../../utils/Antd';\r\nexport default function DeliveryBoy({ userId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState([]);\r\n    const [qData, setQData] = useState({ page: 1, limit: 20, userId });\r\n    const addNewModalRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            width: 40,\r\n            render: (v, row, i) => <b>{i + 1}</b>\r\n        },{\r\n            title: \"Profile Photo\",\r\n            dataIndex: \"avatar\",\r\n            width: 100,\r\n            render: (v) => {\r\n              return <Image src={v?.url} height={150} width={150} />;\r\n            },\r\n          },        {\r\n            title: 'Username',\r\n            dataIndex: 'name',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Phone',\r\n            dataIndex: 'phone',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Age',\r\n            dataIndex: 'age',\r\n            width: 50,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: status => {\r\n                if (status === \"blocked\") {\r\n                    return <Tag color='red'>Blocked</Tag>\r\n                } else if (status === \"active\") {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color=\"yellow\">Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: '_id',\r\n            width: 50,\r\n            render: (v, row) => {\r\n                return <>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this User?\"\r\n                        onConfirm={() => { deleteData(row._id); }}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"primary\" size='small' danger icon={<DeleteOutlined />} />&nbsp;\r\n                    </Popconfirm>\r\n                    <Button type=\"primary\" size='small' icon={<EditOutlined />} onClick={() => { addNewModalRef.current.openForm(row._id) }} />\r\n                </>\r\n            }\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    function list() {\r\n        setLoading(true);\r\n        Setvice.list(qData).then(res => {\r\n            setData(res.data?.map((v) => ({ ...v, key: v._id })));\r\n            setQData({ ...qData, limit: res.extra.limit, page: res.extra.page, total: res.extra.total });\r\n        }).catch(err => { }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const deleteData = (id) => {\r\n        Setvice.delete(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n            setSelected([]);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    const tableColumns = columns.map((item) => ({ ...item, ellipsis: false }));\r\n\r\n    tableColumns[0].fixed = true;\r\n    tableColumns[tableColumns.length - 1].fixed = 'right';\r\n\r\n    const tableProps = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <Search {...{ addNewModalRef, selected, deleteData, qData, setQData, list, }} />,\r\n        showHeader: true,\r\n        footer: () => <Pagination {...{ qData, setQData }} />,\r\n        rowSelection: {\r\n            onChange: (selectedRowKeys) => {\r\n                setSelected(selectedRowKeys);\r\n            },\r\n        },\r\n        tableLayout: undefined,\r\n    };\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, [qData.page, qData.limit]);\r\n\r\n    return (\r\n        <>\r\n            {!userId ? <Typography.Title level={5} style={{ marginTop: 0 }}>List of Users</Typography.Title> : null}\r\n            <Table\r\n                {...tableProps}\r\n                pagination={{ position: ['none'], pageSize: qData.limit }}\r\n                columns={tableColumns}\r\n                dataSource={data.length ? data : []}\r\n                scroll={{ y: 'calc(100vh - 340px)', x: 'calc(100vw - 387px)' }}\r\n            />\r\n            <AddForm ref={addNewModalRef} {...{ list, userId }} />\r\n        </>\r\n    );\r\n};\r\n\r\nfunction Search({ addNewModalRef, selected, deleteData, qData, setQData, list, }) {\r\n    const onChange = (v, key) => {\r\n        qData[key] = v;\r\n        if (v === undefined || v === \"\") {\r\n            delete qData[key];\r\n            list();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Form onSubmitCapture={list} className=\"search-form\">\r\n            <Row gutter={[12, 2]}>\r\n                <Col xs={24} xl={4}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Input placeholder=\"Search by Name\" value={qData.key} onChange={e => onChange(e.target.value, \"key\")} allowClear />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={3}>\r\n                    <Form.Item style={{ marginBottom: 0 }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={5}>\r\n                    <Form.Item style={{ marginBottom: 0, float: 'right' }}>\r\n                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => { addNewModalRef.current.openForm() }}>Add New</Button>\r\n                    </Form.Item>\r\n                    {\r\n                        selected.length\r\n                            ? <Popconfirm\r\n                                title=\"Are you sure to delete these selected images?. Be sure to delete the image from server.\"\r\n                                onConfirm={() => { deleteData(selected); }}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <Button type=\"primary\" danger style={{ float: 'right' }} icon={<DeleteOutlined />}>Delete Selected</Button>\r\n                            </Popconfirm>\r\n                            : null\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, userId } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState({ aspect: 1 });\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n    const handleChange = (value) => {\r\n\r\n        Object.entries(value).forEach(ent => {\r\n            let varDt = data;\r\n            const k = ent[0];\r\n            const v = ent[1];\r\n            let keys = k.split('.');\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (i + 1 === keys.length) {\r\n                    varDt[keys[i]] = v;\r\n                } else {\r\n                    if (typeof varDt[keys[i]] === 'undefined') {\r\n                        if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                            varDt[keys[i]] = [];\r\n                        } else {\r\n                            varDt[keys[i]] = {};\r\n                        }\r\n                    } varDt = varDt[keys[i]];\r\n                }\r\n            }\r\n        });\r\n        setData({ ...data });\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setOpen(true);\r\n            setData(\r\n                dt\r\n                    ? { _id: dt }\r\n                    : { userId }\r\n            );\r\n        }\r\n    }));\r\n\r\n    const getDetails = () => {\r\n        setAjxRequesting(true);\r\n        Setvice.details(data._id).then(res => {\r\n            setData(res.data || {});\r\n            setFileList(res.data?.avatar ? [res.data?.avatar] : []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        Setvice.save(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleChange({ ...res.data });\r\n            list();\r\n            setOpen(false);\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data._id) {\r\n            getDetails();\r\n        }\r\n    }, [data._id]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setData({ _id: null });\r\n        } else {\r\n            setFileList([]);\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n        handleChange({ avatar: fileList?.[0] });\r\n    }, [fileList]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' User'}\r\n                style={{ top: 20 }}\r\n                open={open}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { setOpen(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={800}\r\n                className=\"app-modal-body\"\r\n                footer={[\r\n                    <Button key=\"cancel\" onClick={() => { setOpen(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <Form layout=\"vertical\">\r\n                        <Row gutter={[12, 2]}>\r\n                            <Col span={20}>\r\n                                <Row gutter={[12, 2]}>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Username\" required>\r\n                                            <Input placeholder=\"John Doe\" value={data.name} onChange={e => { handleChange({ name: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Email\" required>\r\n                                            <Input placeholder=\"Email\" value={data.email} onChange={e => { handleChange({ email: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Phone\" required>\r\n                                            <Input placeholder=\"Phone\" value={data.phone} onChange={e => { handleChange({ phone: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col span={12}>\r\n                                        <Form.Item label=\"Age\" required>\r\n                                            <Input placeholder=\"Age\" value={data.age} onChange={e => { handleChange({ age: e.target.value }) }} />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col span={4}>\r\n                                <Form.Item label=\"Avatar\">\r\n                                    <UploadImage {...{ fileList, setFileList }} count={1} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={10}>\r\n                                <Form.Item label=\"Status\" required>\r\n                                    <Select value={data.status} onChange={e => { handleChange({ status: e }) }} >\r\n                                        <Select.Option value=\"active\">Active</Select.Option>\r\n                                        <Select.Option value=\"inactive\">Inactive</Select.Option>\r\n                                        <Select.Option value=\"blocked\">Blocked</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import React from \"react\";\r\nimport { Card, Layout, Menu } from \"antd\";\r\nimport { Routes, Route, Link } from \"react-router-dom\";\r\nimport Error404 from \"../pages/errors/Error404\";\r\nimport commonObj from \"../../commonObj\";\r\n\r\nimport Coupon from \"../pages/Coupon\";\r\n\r\nimport Application from \"../pages/Application\"\r\nimport Category from \"../pages/Category\";\r\nimport Banner from \"../pages/Banner\";\r\nimport UserManagement from \"../pages/Management/userManagement\";\r\nimport Product from \"../pages/Product/Product\";\r\nimport Offer from \"../pages/Offer\";\r\nimport AddOn from \"../pages/Product/AddOn\";\r\nimport HomePageItems from \"../pages/HomePageItems\";\r\nimport Order from \"../pages/Order\";\r\nimport Type from \"../pages/Specialization/Type\";\r\nimport Delivery from \"../pages/delivery\";\r\nimport Products from \"../pages/Product\";\r\nimport Settings from \"../pages/Settings\";\r\nimport Profile from \"../pages/User/Profile\";\r\nimport ChangePassword from \"../pages/User/ChangePassword\";\r\nimport DeliveryBoy from \"../pages/DeliveryBoys\";\r\n\r\n\r\nexport default function MyLayout() {\r\n\r\n    return (\r\n        <>\r\n            <Layout style={{ minHeight: '100vh', }}>\r\n                <Layout className=\"site-layout\" >\r\n                    <Layout.Header style={{ padding: 0, height: 'auto' }} >\r\n                        <Menu theme=\"dark\" mode=\"horizontal\" items={[\r\n                            {\r\n                                label: <Link to={'/specialization'}>Specialization  </Link>,\r\n                                key: \"specialization\",\r\n                            },\r\n                            {\r\n\r\n                                label: <Link to={'/offer'}>Offers  </Link>,\r\n                                key: \"offer\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/coupon'}>Coupon</Link>,\r\n                                key: \"coupon\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/banner'}>Banner</Link>,\r\n                                key: \"banner\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/order'}>Order</Link>,\r\n                                key: \"order\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/addOn'}>AddOn</Link>,\r\n                                key: \"addOn\"\r\n                            },\r\n\r\n                            {\r\n                                label: <Link to={'/category'}>Category</Link>,\r\n                                key: \"category\"\r\n                            },\r\n\r\n                            {\r\n                                label: <Link to={'/application'}>Application</Link>,\r\n                                key: \"application\"\r\n                            },\r\n\r\n                            {\r\n                                label: <Link to={'/delivery'}>Delivery</Link>,\r\n                                key: \"delivery\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/deliveryBoy'}>Delivery-Boy</Link>,\r\n                                key: \"deliveryBoy\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/settings'}>Settings</Link>,\r\n                                key: \"settings\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/products'}>Products</Link>,\r\n                                key: 'products',\r\n                            },\r\n                            {\r\n                                label: <Link to={'/homepageitems'}>Home Page Items</Link>,\r\n                                key: \"homePageItems\"\r\n                            },\r\n                            {\r\n                                label: <Link to={'/management'}>User Management</Link>,\r\n                                key: \"management\"\r\n                            },\r\n                            {\r\n                                label: commonObj?.name ? commonObj.name : 'You',\r\n                                // key: 'profile',\r\n                                children: [\r\n                                    {\r\n                                        key: 'profile',\r\n                                        label: <Link to={'/profile'}>Profile</Link>,\r\n                                    },\r\n                                    {\r\n                                        key: 'changePassword',\r\n                                        label: <Link to={'/changePassword'}>Change-Password</Link>,\r\n                                    },\r\n                                    {\r\n                                        key: 'Logout',\r\n                                        danger: true,\r\n                                        label: 'Logout',\r\n                                        onClick: () => { window.localStorage.clear(); window.location.reload(); }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ]}>\r\n                        </Menu>\r\n                    </Layout.Header>\r\n\r\n                    <Layout.Content>\r\n                        <Card style={{ borderRadius: \"none\" }}>\r\n                            <Routes>\r\n                                <Route path=\"specialization\" element={<Type />} >    </Route>\r\n                                <Route path=\"offer\" element={<Offer />}>  </Route>\r\n                                <Route path=\"coupon\" element={<Coupon />}> </Route>\r\n                                <Route path=\"banner\" element={<Banner />} />\r\n                                <Route path=\"application\" element={<Application />} />\r\n                                <Route path=\"category\" element={<Category />} />\r\n                                <Route path=\"management\" element={<UserManagement />} />\r\n                                <Route path=\"homepageitems\" element={<HomePageItems />} />\r\n                                <Route path=\"add-new-product\" element={<Product />} />\r\n                                <Route path=\"addOn\" element={<AddOn />} />\r\n                                <Route path=\"order\" element={<Order />} />\r\n                                <Route path=\"products\" element={<Products />} />\r\n                                <Route path=\"delivery\" element={<Delivery />} />\r\n                                <Route path=\"deliveryBoy\" element={<DeliveryBoy />} />\r\n                                <Route path=\"settings\" element={<Settings />} />\r\n                                <Route path=\"profile\" element={<Profile />} />\r\n                                <Route path=\"changePassword\" element={<ChangePassword />} />\r\n                                <Route path={'*'} element={<Error404 />} />\r\n                            </Routes>\r\n                        </Card>\r\n                    </Layout.Content>\r\n                </Layout>\r\n            </Layout>\r\n        </>\r\n    );\r\n\r\n}"],"names":["Error404","status","title","subTitle","extra","to","type","service","data","axios","params","query","id","ids","baseURL","this","MyPagination","props","qData","setQData","total","showTotal","start","page","limit","end","pageSize","current","onChange","pp","showSizeChanger","AntdMsg","$msg","$type","message","Coupon","useState","setData","loading","setLoading","selected","setSelected","user","setUser","addNewModalRef","useRef","columns","width","render","v","row","i","dataIndex","map","vv","name","_id","moment","format","discountType","isActive","color","onConfirm","deleteData","okText","cancelText","size","danger","icon","onClick","openForm","filter","item","hidden","list","then","res","key","reverse","catch","err","finally","tableColumns","ellipsis","fixed","length","tableProps","bordered","Search","showHeader","footer","rowSelection","selectedRowKeys","tableLayout","undefined","useEffect","UserService","level","style","marginTop","pagination","position","dataSource","scroll","y","x","AddForm","ref","userNames","setUserNames","Names","label","padding","margin","fontSize","phone","value","searchKey","onSubmitCapture","className","gutter","xs","xl","marginBottom","showSearch","allowClear","placeholder","optionFilterProp","e","filterOption","input","option","toLowerCase","includes","options","span","htmlType","float","forwardRef","open","setOpen","aspect","ajxRequesting","setAjxRequesting","handleChange","Object","entries","forEach","ent","varDt","k","keys","split","parseInt","useImperativeHandle","dt","save","code","util","toUpperCase","top","onOk","okButtonProps","disabled","onCancel","destroyOnClose","maskClosable","spinning","indicator","spin","layout","required","target","addonBefore","discountValue","maxDiscountValue","minimunOrderPrice","typeOfUse","mode","userIds","expiryDate","dayjs","disabledDate","isBefore","Date","subtract","forFirst","defaultValue","TinyMce","height","menubar","plugins","toolbar","content_style","initialValue","editorRef","onInit","evt","editor","init","file_browser_callback_types","file_picker_callback","cb","meta","document","createElement","setAttribute","onchange","file","files","reader","FileReader","readAsDataURL","onload","result","click","deprecation_warnings","onSelectionChange","getContent","Application","currentTab","setCurrentTab","changeForm","getDetails","activeKey","items","children","borderTop","Aboutus","TandC","FAQ","PrivacyPolicy","display","flexDirection","paddingTop","paddingRight","url","config","fileList","setFileList","count","cropImage","listType","uploadImage","onSuccess","onError","onProgress","fmData","FormData","onUploadProgress","event","percent","loaded","append","fileService","uid","handleOnChange","fl","handleRemove","shape","quality","rotate","accept","customRequest","onRemove","UploadOutlined","Category","parentId","fileType","addSubNewModalRef","src","isDeletable","NewForm","sm","md","lg","isTop","img","slug","specialization","Banner","image","Address","userId","addNewLabelRef","AddLabel","console","log","address","landMark","city","pin","optionalPhone","productId","Cart","product","setProduct","varient","setVarient","productVariantId","ProductService","isAll","productName","treeData","variants","weight","price","quantity","WalletHistory","amount","UserManagement","ModelModalRef","ModelModalCartRef","ModelModalWalletRef","ModelModal","ModelModal1","ModelModal2","avatar","email","Product","productSpecialization","categoryId","category","setCategory","specializations","setSpecializations","categoryService","specializationService","expandable","rowExpandable","record","expandedRowRender","actualPrice","inventory","thumbFile","setThumbFile","setFile","ocassion","flavour","recipient","relation","specializationIds","isPremium","isBestSelling","forBirthday","forAnniversary","isBestSellingCombos","categoryIds","thumbImg","imgs","ii","Variant","variantDetails","parentKay","description","heighlight","metaTitle","metaTag","rows","metaDescription","isPopular","Fragment","orientation","CloseOutlined","pop","Offer","endDate","discountPercent","startDate","productIds","AddOn","p","ap","allProduct","setAllProduct","allCategories","setAllCategories","allOffers","setAllOffers","allBanners","setAllBanners","imgUrl","serviceProduct","offerService","bannerService","optionLabelProp","bannerIds","offerIds","displayOrder","displayType","Order","date","_","JSON","parse","finalPrice","userDetails","gender","addressDetails","List","border1","Type","setType","Delivery","deliveryService","timings","startTime","endTime","charge","Timing","timingDetails","timeString","Index","categories","setCategories","destroyInactiveTabPane","initDataMap","dataInput","default","iseditable","dataMap","setDataMap","find","val","handleSave","Profile","doSave","setDoSave","checkedChildren","unCheckedChildren","checked","marginLeft","strong","editable","editing","triggerType","userName","ChangePassword","commonObj","currentPassword","newPassword","confirmNewPassword","DeliveryBoy","Setvice","age","MyLayout","minHeight","theme","window","localStorage","clear","location","reload","borderRadius","path","element"],"sourceRoot":""}